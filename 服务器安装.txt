## é€‰æ‹©

### Windowsç¯‡

é˜¿é‡Œäº‘æä¾›äº†6ç§windowç³»ç»Ÿï¼Œæ¶µç›–äº†Server 2003 sp2ä»¥åŠServer 2008 R2è¿™ä¸¤å¤§ç±»æ“ä½œç³»ç»Ÿã€‚å…¶ä¸­åˆåˆ†ä¸ºäº†32ä½å’Œ64ä½

#### ï¼ˆ1ï¼‰å¦‚ä½•é€‰æ‹©32ä½è¿˜æ˜¯64ä½

32ä½ç³»ç»Ÿç›¸æ¯”64ä½ç³»ç»Ÿï¼Œæœ€ä¸»è¦çš„é™åˆ¶ä½“ç°åœ¨å†…å­˜çš„å¤§å°ä¸Šã€‚å› ä¸º32ä½æœ¬èº«çš„é™åˆ¶ï¼Œå…¶æœ€å¤§åªå¯æ”¯æŒåˆ°4GBå†…å­˜ï¼Œå¦‚æœæ‚¨çš„ç½‘ç«™è¦ä½¿ç”¨é«˜äº4GBçš„å†…å­˜æˆ–è€…ä»¥åæœ‰æ‰©å……å†…å­˜å¯»åˆ°4GBä»¥ä¸Šçš„æ‰“ç®—ï¼Œè¯·ä½¿ç”¨64ä½æ“ä½œç³»ç»Ÿã€‚

è„šæœ¬ä¹‹å®¶å°ç¼–å»ºè®®ï¼šæƒ³å®‰è£…64ä½ç³»ç»Ÿä¸”å¤§äº8gçš„é…ç½®å°±é€‰æ‹©2008 r2 ï¼Œé€‰æ‹©2003ä¸€èˆ¬éƒ½æ˜¯32ä½çš„

#### ï¼ˆ2ï¼‰é€‰æ‹©2003è¿˜æ˜¯é€‰æ‹©2008

å¯¹äºwindowsæ¥è¯´ï¼Œæˆ‘ä¸ªäººå»ºè®®æ˜¯é€‰æ‹©ç‰ˆæœ¬è¶Šé«˜çš„è¶Šå¥½ã€‚ç›¸å¯¹æ¥è¯´æ–°ç‰ˆæœ¬æ¼æ´ç›¸å¯¹æ¥è¯´æ›´å°‘ï¼Œè€Œä¸”IIS 7.5ç›¸å¯¹äºIIS6æä¾›äº†æ›´å¤šçš„åŠŸèƒ½ä»¥åŠæ›´æ–¹ä¾¿çš„æ§åˆ¶å°ã€‚ä½†æ˜¯è€ƒè™‘åˆ°å¤§å®¶çš„æœºå™¨é…ç½®ä¸åŒï¼Œåœ¨æ­¤ç»™å‡ºä¸€ä¸‹å‡ ç§é€‰æ‹©ï¼š

é…ç½®ä½äºåŒæ ¸ 2GBå†…å­˜ï¼šé€‰æ‹©server2003 ä¸è£…æ•°æ®åº“
é…ç½®åŒæ ¸4GBï¼š server 2003 mssql æˆ–è€… server 2008 R2 ä¸å¸¦æ•°æ®åº“
é…ç½®é«˜äºåŒæ ¸ 8GBï¼šserever 2008 R2(win2012/2016) mssql

å»ºè®®å¦‚æœå¤§å®¶è¦åœ¨äº‘æœåŠ¡å™¨ä¸Šè·‘æ•°æ®åº“ï¼Œå°½é‡é€‰æ‹©å¤§å†…å­˜é…ç½®ï¼Œæˆ–è€…é™ä½é…ç½®å»é€‰ç”¨RDSï¼Œä¹Ÿå¯ä»¥è´­ä¹°äº‘æ•°æ®åº“ã€‚

#### ï¼ˆ3ï¼‰ä¸­è‹±æ–‡ã€å®‰å…¨åŠ å›ºç‰ˆå¦‚ä½•é€‰æ‹©

è¿™ä¸ªå°±ä¾æ®å¤§å®¶å„è‡ªçš„å–œå¥½æ¥äº†ï¼Œåœ¨æ­¤ä¸å¤šè¯´äº†

è‡³äºWindowsæœåŠ¡å™¨é…ç½®æ•™ç¨‹ï¼Œå› ä¸ºç½‘ä¸Šæ•™ç¨‹å¾ˆå¤šè€Œä¸”ç›¸å¯¹äºLinuxæ¥è¯´Windowsé…ç½®éš¾åº¦æ›´ä½ï¼Œæ‰€ä»¥Windowsçš„é…ç½®æ•™ç¨‹ä¼šæ¯”è¾ƒæ™šçš„æ”¾å‡ºã€‚

### Linuxç¯‡

è¿™ä¸ªæ˜¯æœ¬ç¯‡æ•™ç¨‹çš„é‡ç‚¹ï¼Œå«å¤§å®¶å¦‚ä½•æ¥é€‰æ‹©LinuxæœåŠ¡å™¨ã€‚

Linuxé˜¿é‡Œäº‘æä¾›äº†ä¸¤å¤§ç±»å…±11ç§ï¼Œä¸‹é¢è®©æˆ‘ä»¬æ¥ä»‹ç»å…·ä½“çš„åŒºåˆ«ã€‚

#### ï¼ˆ1ï¼‰è¿™äº›Linuxç‰ˆæœ¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

LinuxæŒ‰ç…§å¤§ç±»æ¥åˆ†ï¼Œé˜¿é‡Œäº‘æä¾›äº†åŸºäºDebianè·ŸRed Hatä¸¤å¤§ç±»æ“ä½œç³»ç»Ÿï¼Œå…·ä½“åˆ†ç±»å¦‚ä¸‹ï¼š

Debianï¼šUbuntuï¼ŒDebian
Red hatï¼šRed Hat ï¼ŒCentos

#### ï¼ˆ2ï¼‰è¿™ä¸¤å¤§ç±»æœ‰ä»€ä¹ˆåŒºåˆ«

Debianï¼šç”¨çš„debåŒ…ï¼Œä½¿ç”¨APTåŒ…ç®¡ç†ç³»ç»Ÿã€‚åŒæ—¶Debianæä¾›äº†å¤§å¤šæ•°è½¯ä»¶æ¯”è¾ƒæ–°çš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”æä¾›äº†æ›´å¤šçš„è½¯ä»¶åŒ…ï¼ˆç›¸å¯¹äºåŸç‰ˆRed Hatï¼‰ã€‚Debiançš„ä¼˜ç‚¹åœ¨äºæ›´æ–°è¿…é€Ÿï¼Œè½¯ä»¶åŒ…å®Œå–„ï¼ˆUbuntuå°¤å…¶ï¼‰ï¼Œæ“ä½œä¾¿åˆ©ã€‚ç¼ºç‚¹æ˜¯éƒ¨åˆ†æ—¶å€™ç¨³å®šæ€§æ¬ ä½³ï¼Œè·Ÿè¿›æœ€æ–°è½¯ä»¶æœ‰å¯èƒ½å­˜åœ¨Bugã€‚

Red Hatï¼šç”¨rpmåŒ…ï¼Œä½¿ç”¨yumåŒ…ç®¡ç†ç³»ç»Ÿã€‚ç›¸å¯¹äºDebianæ¥è¯´ï¼ŒRed Hatçš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯æ…¢ã€‚å¤§éƒ¨åˆ†è½¯ä»¶åœç•™åœ¨ç¨³å®šç‰ˆæœ¬ï¼Œè€Œä¸”ç›¸è·æœ€æ–°ç‰ˆç‰ˆæœ¬ä¹Ÿå·®è¾ƒå¤šã€‚è€Œä¸”æŸäº›æ–°ç‰ˆè½¯ä»¶çš„ä¸€äº›æ–°ç‰¹æ€§æ”¯æŒä¹Ÿæ¯”è¾ƒæ…¢ï¼Œæ¯”å¦‚php-fpmã€‚å› ä¸ºRed Hatæ˜¯é¢å‘ä¼ä¸šç”¨æˆ·æä¾›çš„æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥åœ¨ç¨³å®šæ€§ä¸Šååˆ†çªå‡ºï¼Œä¸€èˆ¬åœ¨æ–°åŠŸèƒ½æˆ–ç¨³å®šæ€§çš„é€‰æ‹©ä¸Šæ›´å€¾å‘äºåè€…ã€‚åªæœ‰å½“æŸä¸ªåŠŸèƒ½å®Œå…¨ç¡®å®šç¨³å®šäº†ï¼Œæ‰ä¼šåŠ å…¥åˆ°ç³»ç»Ÿé‡Œã€‚ä¼˜ç‚¹æ˜¯ç³»ç»Ÿç¨³å®šï¼ŒæŠ€æœ¯æ–‡æ¡£å®Œå–„ï¼Œå¦‚æœä»˜è´¹çš„è¯èƒ½å¾—åˆ°ä¼ä¸šçº§åˆ«çš„æŠ€æœ¯æ”¯æŒã€‚ç¼ºç‚¹æ˜¯è½¯ä»¶åŒ…æ¯”è¾ƒè€æ—§ï¼Œè€Œä¸”ä¸€äº›è¾ƒæ–°åŠŸèƒ½ä¼šæ¬ ç¼ºã€‚

æ€»ç»“ä¸€ä¸‹ï¼š
å¦‚æœä½ å–œæ¬¢å°é²œï¼Œå–œæ¬¢ç”¨æœ€æ–°çš„åŠŸèƒ½æˆ–å–œæ¬¢æŠ˜è…¾ç³»ç»Ÿï¼Œé‚£ä¹ˆDebianæ˜¯ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚ç›¸å¯¹äºRed Hatçš„å†…æ ¸è¿˜åœç•™åœ¨2.6ï¼ŒDebianæ—©å·²è¿ˆå…¥3.0å¤§é—¨ã€‚

å¦‚æœä½ è¿½æ±‚ç¨³å®šï¼Œä¸æƒ³ç»å¸¸å‡çº§ç³»ç»Ÿè½¯ä»¶ä¸çˆ±æŠ˜è…¾ï¼Œé‚£ä¹ˆRed Hatæ˜¯ä½ æ›´å¥½çš„é€‰æ‹©ï¼Œå‡ºè‰²çš„ç¨³å®šæ€§ä»¥åŠä¸°å¯Œçš„æ–‡æ¡£æ”¯æŒä¸€å®šå¯ä»¥æ»¡è¶³ä½ çš„éœ€è¦ï¼Œå½“ç„¶å¤ªæ–°çš„åŠŸèƒ½ä¸è¦æŠ±æœ‰å¹»æƒ³ã€‚è€Œä¸”Red Hatå®Œå–„çš„æ–‡æ¡£å¯ä»¥å…å»ä½ åˆ°å¤„æŸ¥æ‰¾æ•™ç¨‹ã€è®ºå›ä¹‹è‹¦

ä¸Šæ‰‹éš¾åº¦ Ubunt<Debian<Redhat=Centos

#### ï¼ˆ3ï¼‰Debianä¸Ubuntuçš„é€‰æ‹©

Ubuntuæ˜¯åŸºäºDebianæ‰€å¼€å‘ï¼Œå¯ä»¥ç®€å•åœ°è®¤ä¸ºUbuntuæ˜¯Debiançš„åŠŸèƒ½åŠ å¼ºç‰ˆã€‚ä¸Debianç›¸æ¯”ï¼ŒUbuntuæä¾›äº†æ›´äººæ€§åŒ–ç³»ç»Ÿé…ç½®ï¼Œæ›´å¼ºå¤§çš„ç³»ç»Ÿæ“ä½œä»¥åŠæ¯”Debianæ›´æ¿€è¿›çš„è½¯ä»¶æ›´æ–°ã€‚Ubuntuä¸Debianæ¯”è¾ƒï¼Œå¯ä»¥è®¤ä¸ºDebianæ›´è¶‹å‘äºä¿å®ˆä¸€äº›ï¼ŒUbuntuå¯¹æ–°æ‰‹å‹å¥½åº¦æ›´é«˜ï¼Œä¸Šæ‰‹æ›´å®¹æ˜“ã€‚ç”¨è¿‡Ubuntuçš„éƒ½ä¼šä½“ä¼šåˆ°å®ƒçš„æ˜“ç”¨ï¼Œåä¹‹å¦‚æœç”¨è¿‡Ubuntuå†æ¢åˆ°åˆ«çš„ç³»ç»Ÿï¼Œéƒ½ä¼šè§‰å¾—ä¸é€‚åº”ï¼ŒUbuntuçœŸçš„å¾ˆæ–¹ä¾¿ã€‚

ä¸ªäººå»ºè®®ï¼Œå¦‚æœä½ æ‰“ç®—é€‰æ‹©Debianç±»çš„ï¼Œå»ºè®®é€‰æ‹©Ubuntuã€‚Ubuntuæä¾›äº†æ›´å¥½çš„æ“ä½œï¼Œæ›´æ¿€è¿›çš„è½¯ä»¶æ›´æ–°ï¼Œæ›´æ–¹ä¾¿ç®¡ç†è½¯ä»¶ä»¥åŠç›¸å·®æ— å‡ çš„ç¨³å®šæ€§ã€‚å¦‚æœä½ æƒ³ç”¨Debianç±»ï¼Œä¸æƒ³æ”¾å¼ƒç¨³å®šï¼Œé‚£ä¹ˆè¯·é€‰æ‹©Debianã€‚ä¸Ubuntuç›¸æ¯”Debiançš„ç¨³å®šæ€§æ›´ä½³ï¼Œä½†æ˜¯ä¹Ÿå°±å­˜åœ¨äº†Red Hatä¸Debianç›¸æ¯”ç±»ä¼¼çš„é—®é¢˜ã€‚

##### å…³äºUbuntuç‰ˆæœ¬é€‰æ‹©ï¼š

Debianå°±ç»™äº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œå°±ä¸è¯´ä»€ä¹ˆäº†ï¼Œé‡ç‚¹è¯´ä¸€ä¸‹Ubuntuã€‚

ä¸çŸ¥é“é˜¿é‡Œäº‘å·¥ç¨‹å¸ˆå½“åˆæ€ä¹ˆæƒ³åˆ°çš„è¿˜æ˜¯ä»–è‡ªå·±åšé•œåƒæ—¶å€™ç”¨çš„10.10ï¼Œç«Ÿç„¶æœ‰10.10ï¼Ÿ

åœ¨æ­¤è§£é‡Šä¸‹Ubuntuçš„ç‰ˆæœ¬æ”¯æŒæ—¶é—´ã€‚Ubuntuæ™®é€šç‰ˆæœ¬åªæä¾›18ä¸ªæœˆçš„æŠ€æœ¯æ”¯æŒï¼Œè¿‡æœŸåˆ™ä¸ç®¡ã€‚LTSæœåŠ¡å™¨ç‰ˆæœ¬æä¾›é•¿è¾¾äº”å¹´çš„æŠ€æœ¯æ”¯æŒã€‚Ubuntu 10.10æ˜¯ä¸ªæ™®é€šç‰ˆï¼Œç°åœ¨å·²ç»è¿‡äº†æ”¯æŒå‘¨æœŸäº†ã€‚å¦‚æœä½ ç”¨äº†ï¼Œå¾ˆå¥½ï¼Œä½ ä¼šå‘ç°ä½ å®‰è£…ä¸äº†ä»»ä½•è½¯ä»¶ï¼Œ10.10çš„è½¯ä»¶å·²ç»ä»Ubuntuè½¯ä»¶æºä¸­è¢«ç§»é™¤äº†ã€‚æ‰€ä»¥å»ºè®®å¤§å®¶é€‰æ‹©12.04 LTSç‰ˆï¼Œæä¾›é•¿è¾¾5å¹´çš„æŠ€æœ¯æ”¯æŒï¼Œå¯ä»¥ç¡®ä¿åœ¨é™å€™ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´å†…ä½ çš„æœåŠ¡å™¨å¯ä»¥ç»§ç»­æ”¶åˆ°ç³»ç»Ÿå‡çº§è¡¥ä¸ä»¥åŠå¯ç”¨çš„è½¯ä»¶æºã€‚é¡ºä¾¿å†åæ§½ä¸€ä¸‹åˆ¶ä½œè¿™ä¸ªISOçš„ï¼Œèƒ½ä¸èƒ½æœ‰ç‚¹ä¸“ä¸šç²¾ç¥å•Šï¼ç»™ä¸ªæ²¡è½¯ä»¶æºçš„è®©æˆ‘ä»¬è£…å®Œäº†æ”¾é‚£é‡Œçœ‹ä¹ˆï¼Ÿ

#### (4) Red Hatå’ŒCentos é€‰æ‹©

Red Hatè·ŸCentoså°±æ²¡é‚£ä¹ˆå¤šå·®åˆ«äº†ã€‚

Red Hatæ˜¯ä»˜è´¹æ“ä½œç³»ç»Ÿï¼Œä½ å¯ä»¥å…è´¹ä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœè¦ä½¿ç”¨Red Hatçš„è½¯ä»¶æºå¹¶ä¸”æƒ³å¾—åˆ°æŠ€æœ¯æ”¯æŒçš„è¯ï¼Œæ˜¯è¦åƒWindowsé‚£æ ·æé’±çš„ï¼Œæ‰€ä»¥å¤§å®¶å¯ä»¥ç†è§£ä¸ºLinuxä¸­çš„Windowsã€‚è¿™ä¹ˆåšç¬¦åˆå¼€æºç²¾ç¥ï¼Œå…è´¹ä½¿ç”¨ï¼ŒæœåŠ¡æ”¶è´¹ã€‚
Centosæ˜¯Red Hatçš„å¼€æºç‰ˆæœ¬ã€‚ä¸€èˆ¬åœ¨Red Hatæ›´æ–°ä¹‹åï¼ŒCentosä¼šæŠŠä»£ç ä¸­å«æœ‰Red Hatä¸“åˆ©çš„éƒ¨åˆ†å»æ‰ï¼ŒåŒæ—¶Red Hatä¸­åŒ…å«çš„ç§ç§æœåŠ¡å™¨è®¾ç½®å·¥å…·ä¹Ÿä¸€èµ·å¹²æ‰ï¼Œç„¶åé‡æ–°ç¼–è¯‘å°±æ˜¯Centosã€‚

ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼ŒCentoså‡ ä¹å¯ä»¥å®Œå®Œå…¨å…¨çœ‹æˆæ˜¯Red Hatï¼Œè¿™ä¸¤ä¸ªç‰ˆæœ¬çš„rpmåŒ…éƒ½æ˜¯å¯ä»¥é€šç”¨çš„ã€‚

é‚£ä¹ˆè¿™æ ·é—®é¢˜å°±ç®€å•äº†

å¦‚æœä½ èˆå¾—èŠ±é’±ä¹°æŠ€æœ¯æ”¯æŒï¼Œå¹¶ä¸”æƒ³å¾—åˆ°å®Œå–„çš„æŠ€æœ¯æœåŠ¡ï¼Œè¯·å»ä¹°Red Hatçš„æˆæƒï¼Œä½ ä¼šå¾—åˆ°å¦‚Windowsä¸€èˆ¬å¼ºå¤§çš„æŠ€æœ¯æ”¯æŒçš„ã€‚

å¦‚æœä½ åªæƒ³ç”¨ï¼Œä»€ä¹ˆä»˜è´¹æŠ€æœ¯æ”¯æŒä»€ä¹ˆä¸“æœ‰è½¯ä»¶éƒ½æ˜¯æµ®äº‘ï¼Œé‚£ä¹ˆç”¨Centoså§ã€‚

Centos 5 å¯¹åº” Red Hat 5
Centos 6 å¯¹åº” Red Hat 6ï¼ˆé˜¿é‡Œäº‘æ²¡æä¾›è¿™ä¸ªç‰ˆæœ¬ï¼‰

centos 7 (ä¸å»ºè®®ç”Ÿäº§ç¯å¢ƒï¼Œå°±æ˜¯æ­£å¼è·‘ç½‘ç«™ä¸å»ºè®®ç”¨)

åŒæ—¶Red HatæŠ€æœ¯æ”¯æŒçš„æ–‡æ¡£ä¹Ÿæ˜¯åŒæ ·å¯ä»¥å¥—ç”¨åœ¨Centosä¸Šçš„ï¼Œå‘½ä»¤éƒ½ä¸ç”¨æ”¹ï¼ˆæ¯•ç«Ÿæœ¬è´¨ä¸Šæ¥è¯´ä¸€æ ·ä¹ˆï¼‰ã€‚

Red Hatç³»çš„æœ€å¤§ç‰¹ç‚¹å°±æ˜¯ç¨³å®šã€‚å› ä¸ºCentoséœ€è¦åœ¨Red Hatæ›´æ–°åæ‰èƒ½æ›´æ–°ï¼Œæ‰€ä»¥ä¸€èˆ¬è¡¥ä¸æ›´æ–°é€Ÿåº¦è¦è½åäºRed Hatï¼Œå½“ç„¶è¿™ä¸ªå¯¹å¤§å¤šæ•°äººæ¥è¯´ç­‰ä¸€æ®µæ—¶é—´ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚

Red Hatæ˜¯å¯¹Linuxå†…æ ¸ä»£ç è´¡çŒ®åº¦ç¬¬ä¸€çš„å…¬å¸ï¼Œ2012å¹´ç»Ÿè®¡Red Hatè´¡çŒ®äº†è¶…è¿‡10%çš„ä»£ç ï¼Œæ‰€ä»¥Red Hatå¯ä»¥è¯´æ˜¯å½“å‰æœ€ç¨³å®šçš„Linuxç‰ˆæœ¬ã€‚Centosç§‰æ‰¿Red Hatè‰¯å¥½çš„è¡£é’µï¼Œä¹Ÿæœ‰ä¸€æµçš„ç¨³å®šæ€§ï¼Œè¿™ç‚¹æ˜¯Debianæ‰€æ— æ³•æ¯”æ‹Ÿçš„ã€‚åŒæ ·å›¢å»ºæ›´æ–°é€Ÿåº¦Red Hatä¼šæ…¢å¾ˆå¤šå¾ˆå¤šï¼Œä½†æ˜¯ä¸€æ—¦æ›´æ–°çš„è¯å°±æ˜¯ç¨³å®šç‰ˆæœ¬ï¼Œç¨³å®šæ€§å‹å€’ä¸€åˆ‡ã€‚

å¯¹äºé˜¿é‡Œäº‘Centosçš„é€‰æ‹©ï¼Œå»ºè®®é€‰æ‹©Centos 6.3ç‰ˆæœ¬ï¼Œå¸¦æ¥äº†æ›´å¤šçš„æ–°ç‰¹æ€§ä»¥åŠæ›´å¤šçš„æ–°åŠŸèƒ½ã€‚

é™¤éä½ çš„è½¯ä»¶éœ€è¦php 5.1çš„ç¯å¢ƒï¼Œé‚£ä¹ˆå°±é€‰æ‹©Centos6.3ã€‚å¦‚æœç½‘ç«™éœ€è¦æ”¯æŒphp5.1ï¼Œåªèƒ½é€‰ç”¨Centos 5ã€‚

è‡³äºå…·ä½“ç‰ˆæœ¬é€‰æ‹©ï¼Œå»ºè®®php 5.1ç”¨æˆ·é€‰æ‹©Centoss 5.8ï¼Œå…¶ä»–çš„ç”¨æˆ·åˆ™ä¸ºCentos 6.3

å¦ï¼šæƒ³ç”¨Nginxä¹Ÿè¯·ä½¿ç”¨Centos 6.3æˆ–ä»¥ä¸Šç‰ˆæœ¬ã€‚
å°ç¼–å·²ç»å†³å®šç”¨Centos 6.3äº†ï¼Œç„¶åæ­å»ºNginx+php+mysqlçš„ç¯å¢ƒäº†ã€‚

#### é…ç½®æœåŠ¡å™¨æ˜¯ç”¨CentOS6è¿˜æ˜¯ç”¨CentOS7

Centos7çš„å˜åŒ–ç›¸å¯¹ä»¥å‰ç‰ˆæœ¬æœ‰ç‚¹å¤§ï¼Œéœ€è¦ä¸€æ®µæ—¶é—´é‡æ–°é€‚åº”ï¼Œæ‰€ä»¥æ¨ècentos6ã€‚ä½ çš„çº ç»“å…¶å®å¾ˆå¤šæ—¶å€™éƒ½ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚









## Ubuntu16.04è½¯ä»¶å®‰è£…

### ä¿®æ”¹é•œåƒæº

#### æ“ä½œæµç¨‹

æ‰“å¼€æ–‡ä»¶ï¼š`vim /etc/apt/sources.list`

æ›¿æ¢é»˜è®¤çš„`http://archive.ubuntu.com/`ä¸º`mirrors.aliyun.com`

é…ç½®ï¼šï¼ˆUbuntu16.04ï¼‰

```
deb http://mirrors.aliyun.com/ubuntu/ xenial main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial main

deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main

deb http://mirrors.aliyun.com/ubuntu/ xenial universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial universe
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe

deb http://mirrors.aliyun.com/ubuntu/ xenial-security main
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main
deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe
```

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–°å¢æºé‡Œçš„ `xenial` éœ€è¦å’Œæˆ‘ä»¬è¦ä¿®æ”¹çš„ç³»ç»Ÿçš„codenameä¸€è‡´ã€‚(é»˜è®¤Ubuntuå³ä¸º `xenial` ï¼Œä¸€èˆ¬å¯å¿½ç•¥)ã€‚			ä½¿ç”¨lsb_release -aå¯ä»¥çœ‹åˆ°codenameã€‚

æ›´æ–°æº `sudo apt-get update`

æ›´æ–°å·²å®‰è£…çš„åŒ…  `sudo apt-get upgrade`

#### é˜¿é‡Œå¼€æºé•œåƒç½‘ç«™ï¼šhttps://developer.aliyun.com/mirror

#### Ubuntuè½¯ä»¶æ“ä½œçš„ç›¸å…³å‘½ä»¤

```shell
sudo apt-get update  æ›´æ–°æº

sudo apt-get upgrade æ›´æ–°å·²å®‰è£…çš„åŒ…
 
sudo apt-get install package å®‰è£…åŒ…
 
sudo apt-get remove package åˆ é™¤åŒ…
 
sudo apt-cache search package æœç´¢è½¯ä»¶åŒ…
 
sudo apt-cache show package  è·å–åŒ…çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚è¯´æ˜ã€å¤§å°ã€ç‰ˆæœ¬ç­‰
 
sudo apt-get install package --reinstall   é‡æ–°å®‰è£…åŒ…
 
sudo apt-get -f install   ä¿®å¤å®‰è£…
 
sudo apt-get remove package --purge åˆ é™¤åŒ…ï¼ŒåŒ…æ‹¬é…ç½®æ–‡ä»¶ç­‰
 
sudo apt-get build-dep package å®‰è£…ç›¸å…³çš„ç¼–è¯‘ç¯å¢ƒ
 
sudo apt-get dist-upgrade å‡çº§ç³»ç»Ÿ

sudo apt-cache depends package äº†è§£ä½¿ç”¨è¯¥åŒ…ä¾èµ–é‚£äº›åŒ…
 
sudo apt-cache rdepends package æŸ¥çœ‹è¯¥åŒ…è¢«å“ªäº›åŒ…ä¾èµ–
 
sudo apt-get source package  ä¸‹è½½è¯¥åŒ…çš„æºä»£ç 
 
sudo apt-get clean && sudo apt-get autoclean æ¸…ç†æ— ç”¨çš„åŒ…
 
sudo apt-get check æ£€æŸ¥æ˜¯å¦æœ‰æŸåçš„ä¾èµ–
```



### ifconfigå®‰è£…

```shell
å…ˆæ›´æ–°è½¯ä»¶åŒ…
sudo apt-get update
sudo apt-get upgrade

å®‰è£…ç½‘ç»œå·¥å…·åŒ…
sudo apt install net-tools

```



### å®‰è£…python3.7

#### å®‰è£…

##### ç›´æ¥å®‰è£…

ç›´æ¥å®‰è£…ï¼š`apt-get install python3.7`

##### æ‰‹åŠ¨å®‰è£…

è‹¥ç›´æ¥å®‰è£…å¤±è´¥ï¼Œæ‰‹åŠ¨å®‰è£…ã€‚

> æºç çš„å®‰è£…ä¸€èˆ¬ç”±3ä¸ªæ­¥éª¤ç»„æˆï¼šé…ç½®ï¼ˆconfigureï¼‰ã€ç¼–è¯‘ï¼ˆmakeï¼‰ã€å®‰è£…ï¼ˆmake installï¼‰ã€‚
> configureæ˜¯ä¸€ä¸ªå¯æ‰§è¡Œè„šæœ¬ï¼Œå®ƒæœ‰å¾ˆå¤šé€‰é¡¹ï¼Œä½¿ç”¨å‘½ä»¤./configure --helpè¾“å‡ºè¯¦ç»†çš„é€‰é¡¹åˆ—è¡¨ã€‚æœ€å¸¸ç”¨çš„å‚æ•°æ˜¯ --prefix=ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯è½¯ä»¶æœ€åçš„å®‰è£…ç›®å½•ã€‚

1. ä¸‹è½½å®˜ç½‘å®‰è£…åŒ…ï¼š`wget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz`

2. è§£å‹å®‰è£…åŒ…ï¼š `tar -zxvf Python-3.7.3.tgz`

3. é…ç½®ï¼š

    ```shell
    cd Python-3.7.3
    ./configure	# å»ºè®®
    # æˆ–è€…
    ./configure --prefix=/usr/local/python3.7.3
    ```

4. ç¼–è¯‘ï¼š`make`             ï¼ˆæ²¡æœ‰å®‰è£…makeçš„å®‰è£…ä¸€ä¸‹ï¼‰

5. å®‰è£…makeï¼š`sudo make install`

    > è‹¥æ­¥éª¤3æ‰§è¡Œçš„æ˜¯ ./configureï¼Œåˆ™å®‰è£…åå¯æ‰§è¡Œæ–‡ä»¶é»˜è®¤æ”¾åœ¨/usr /local/binï¼Œåº“æ–‡ä»¶é»˜è®¤æ”¾åœ¨/usr/local/libï¼Œé…ç½®æ–‡ä»¶é»˜è®¤æ”¾åœ¨/usr/local/includeï¼Œå…¶å®ƒçš„èµ„æºæ–‡ä»¶æ”¾åœ¨/usr /local/shareã€‚
    >
    > è‹¥æ­¥éª¤3æ‰§è¡Œçš„æ˜¯./configure --prefix=/usr/local/python3.7.3ï¼Œåˆ™å¯æ‰§è¡Œæ–‡ä»¶æ”¾åœ¨/usr /local/python3.7.3/binï¼Œåº“æ–‡ä»¶æ”¾åœ¨/usr/local/python3.7.3/libï¼Œé…ç½®æ–‡ä»¶æ”¾åœ¨/usr/local/python3.7.3/includeï¼Œå…¶å®ƒçš„èµ„æºæ–‡ä»¶æ”¾åœ¨/usr /local/python3.7.3/share

6. ç¯å¢ƒå˜é‡

    è‹¥æ­¥éª¤3æ‰§è¡Œ./configure --prefix=/usr/local/python3.7.3ï¼Œåˆ™éœ€è¦æ·»åŠ ç¯å¢ƒå˜é‡ã€‚æ­¥éª¤3æ˜¯./configureçš„è·³è¿‡æ­¤æ­¥éª¤ã€‚

    æ·»åŠ ç¯å¢ƒå˜é‡ï¼š `PATH=$PATH:$HOME/bin:/usr/local/python3.7.3/bin`
    æŸ¥çœ‹ç¯å¢ƒå˜é‡ï¼š `echo $PATH`

#### é»˜è®¤æŒ‡å‘

æŸ¥çœ‹pythonçš„æŒ‡å‘ï¼š `ls -l /usr/bin | grep python`

åˆ é™¤åŸæœ‰é“¾æ¥ï¼š `rm /usr/bin/python` 

è‹¥python3.7å®‰è£…æ—¶ï¼Œæ‰§è¡Œçš„æ˜¯./configureï¼Œåˆ™ï¼š

```shell
mv /usr/bin/python /usr/bin/python.bak
ln -s /usr/local/bin/python3 /usr/bin/python
mv /usr/bin/pip /usr/bin/pip.bak
ln -s /usr/local/bin/pip3 /usr/bin/pip

```

è‹¥python3.7å®‰è£…æ—¶ï¼Œæ‰§è¡Œçš„æ˜¯./configure --prefix=/usr/local/python3.7.1ï¼Œä¸ºï¼š

```shell
mv /usr/bin/python /usr/bin/python.bak
ln -s /usr/local/python3.7.1/bin/python3.7 /usr/bin/python
mv /usr/bin/pip /usr/bin/pip.bak
ln -s /usr/local/python3.7.1/bin/pip3 /usr/bin/pip

```



### svnå®‰è£…

#### æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…

```
apt-get install subversion
```

å¦‚æœå‡ºç°å¦‚ä¸‹æç¤ºï¼Œåˆ™å¤„ç†æ–¹æ³•å¦‚ä¸‹:

![img](image/20190324221153982.png)

```shell
# æ‰§è¡Œå‘½ä»¤
ps -e|grep apt-get
# æŸ¥çœ‹è¿›ç¨‹
sudo netstat -ntlp

6965 ?        00:00:01 apt-get  #æ˜¾ç¤º

# å¦‚æœå­˜åœ¨è¿›ç¨‹ï¼Œåˆ™ç›´æ¥æ€æ­»ã€‚
kill 6965

# å¦‚æœæ‰§è¡Œps -e|grep apt-get æ— ä»»ä½•æ˜¾ç¤ºçš„æ—¶å€™ï¼Œéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:
sudo rm /var/cache/apt/archives/lock  
sudo rm /var/lib/dpkg/lock

```

#### æŸ¥çœ‹svnå®‰è£…ç‰ˆæœ¬

```
svn --version
```

#### é…ç½®å’Œæµ‹è¯•ä½¿ç”¨

##### å»ºç«‹SVNä»“åº“ç›®å½•

```shell
mkdir -p /home/svn/project
cd /home
chmod -R 777 svn/
```

æ­¤æ—¶svnä»¥åŠprojectæ–‡ä»¶å¤¹å…¨éƒ¨ä¸ºdrwxrwxrwx

![img](image/20190324222554366.png)

##### åˆ›å»ºåˆå§‹åŒ–ä»“åº“

``` shell
svnadmin create /home/svn/project
```

æ­¤æ—¶æŸ¥çœ‹projectè·¯å¾„ä¸‹çš„æ–‡ä»¶

![img](image/20190324222718771.png)

##### è®¾ç½®è®¿é—®æƒé™

è¿›å…¥conf/svnserve.confï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤

```shell
cd /home/svn/project/conf
vim svnserve.conf
```

æ‰“å¼€anon-access = readï¼Œauth-access = writeã€‚anon-accessæ— éœ€è´¦æˆ·å¯ä»¥readï¼Œauth-accesséªŒè¯ç”¨æˆ·å¯ä»¥write.åˆ†åˆ«ä¸ºé…ç½®æ–‡ä»¶çš„19ã€20ã€27è¡Œã€‚å°†å‰é¢çš„#å–æ‰ã€‚

> å…¶ä¸­ anon-access å’Œ auth-access åˆ†åˆ«ä¸ºåŒ¿åå’Œæœ‰æƒé™ç”¨æˆ·çš„æƒé™ï¼Œé»˜è®¤ç»™åŒ¿åç”¨æˆ·åªè¯»çš„æƒé™ï¼Œè¿™å¾ˆå¥½ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ”¹å®ƒä»¬ã€‚ä½†å¦‚æœæƒ³æ‹’ç»åŒ¿åç”¨æˆ·çš„è®¿é—®ï¼Œåªéœ€æŠŠ read æ”¹æˆ none å°±èƒ½è¾¾åˆ°ç›®çš„ã€‚password-db åçš„ passwd åˆ™ä¸ºå®šä¹‰ç”¨æˆ·ååŠå¯†ç çš„æ–‡ä»¶è·¯å¾„ã€‚è¿™ä¸ªæ–‡ä»¶é»˜è®¤è·Ÿ snvserve.conf åœ¨åŒä¸€ä¸ªç›®å½•ã€‚

 ![img](image/20190324223335441.png)

##### å¢åŠ ç”¨æˆ·å’Œè®¾ç½®å¯†ç 

ç¼–è¾‘é…ç½®æ–‡ä»¶/home/svn/project/conf/passwd

harry å’Œ sally è¿™ä¸¤è¡Œåˆ†åˆ«å®šä¹‰äº†å¯ä»¥å¯¹ repo è¿›è¡Œå†™å…¥çš„ç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä¸‹é¢åŠ ä¸Šè‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæ¯”å¦‚ï¼Œ`surpass = 123456`  å…¶ä¸­ surpass æ˜¯ç”¨æˆ·åï¼Œ123456 æ˜¯å¯†ç 

![img](image/20190324223612774.png)

#### å¯åŠ¨svnæœåŠ¡ç«¯

é€šè¿‡svnserveå‘½ä»¤å¯åŠ¨svnæœåŠ¡ç«¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‚æ•°

-d ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼åå°å¯åŠ¨ç¨‹åº

-r  æŒ‡å®šå¯åŠ¨ä½¿ç”¨çš„ä»“åº“åœ°å€ è¿™æ ·å®¢æˆ·ç«¯ä¸ç”¨è¾“å…¥å…¨è·¯å¾„ï¼Œå°±å¯ä»¥è®¿é—®ç‰ˆæœ¬åº“ã€‚å¦‚ï¼šsvn://192.168.10.101/project

å¯åŠ¨ä¹‹åï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹è¿›ç¨‹ï¼ˆpsï¼‰çš„æ–¹å¼ï¼Œæ£€æŸ¥æœåŠ¡æ˜¯å¦å¯åŠ¨
![img](image/20190324223820742.png)

å…¶ä»–é€‰é¡¹

```shell
# --listen -port ç«¯å£
svnserve -d -r /home/svn/ --listen-port 21   # ä¸è¦åŠ ç«¯å£ï¼Œä¹‹å‰ftpä¹Ÿç”¨äº†21ç«¯å£ã€‚ å¯èƒ½å‘ç”Ÿäº†å†²çªï¼Œ ä½†æ˜¯æŸ¥çœ‹æ‰€æœ‰ç«¯å£å¹¶ä¸èƒ½å‘ä¸‹21ç«¯å£è¢«å ç”¨ï¼Œå¥‡æ€ªçš„é—®é¢˜

```

##### è®¾ç½®è‡ªå¯

https://zhuanlan.zhihu.com/p/56020157

https://blog.djinguo.com/2019-01-30/ubuntu-18-start/

#### å…³é—­svnæœåŠ¡

```shell
killall svnserve
```

#### æŸ¥çœ‹è¿›ç¨‹

```shell
# æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹
sudo netstat -ntlp
# æŸ¥çœ‹svnæœåŠ¡
ps -A|grep svn
ps aux|grep svnserve 	# ä¼˜é€‰
```



### ä¸Šä¼ æ–‡ä»¶åˆ°è¿œç¨‹

å®‰è£…lrzsz

```shell
# å®‰è£…åŒ…
sudo apt-get install lrzsz
# ä»è¿œç«¯ä¸‹è½½
sz æ–‡ä»¶
# ä¸Šä¼ åˆ°è¿œç«¯
rz

```



### å°†Ubuntuä¸­æ–‡ç›®å½•æ”¹ä¸ºè‹±æ–‡

#### æ–¹æ³•ä¸€

æ‰“å¼€ç»ˆç«¯ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤:

```shell
export LANG=en_US
xdg-user-dirs-gtk-update

```

è·³å‡ºå¯¹è¯æ¡†è¯¢é—®æ˜¯å¦å°†ç›®å½•è½¬åŒ–ä¸ºè‹±æ–‡è·¯å¾„,åŒæ„å¹¶å…³é—­ã€‚
åœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤:

```shell
export LANG=zh_CN
```

é‡æ–°å¯åŠ¨ç³»ç»Ÿï¼Œç³»ç»Ÿä¼šæç¤ºæ›´æ–°æ–‡ä»¶åç§°ï¼Œé€‰æ‹©ä¸å†æç¤º,å¹¶å–æ¶ˆä¿®æ”¹ã€‚

#### æ–¹æ³•äºŒ

ç¼–è¾‘~/.config/user-dirs.dirsæ–‡ä»¶

```shell
vim ~/.config/user-dirs.dirs
```

ä¿®æ”¹æ–‡ä»¶å†…å®¹ä¸ºï¼š

```shell
XDG_DESKTOP_DIR="$HOME/Desktop"
XDG_DOWNLOAD_DIR="$HOME/Downloads"
XDG_TEMPLATES_DIR="$HOME/Templates"
XDG_PUBLICSHARE_DIR="$HOME/Public"
XDG_DOCUMENTS_DIR="$HOME/Documents"
XDG_MUSIC_DIR="$HOME/Music"
XDG_PICTURES_DIR="$HOME/Pictures"
XDG_VIDEOS_DIR="$HOME/Videos"

```

#### æ–¹æ³•ä¸‰

æ‰“å¼€ ç³»ç»Ÿè®¾ç½®-ã€‹è¯­è¨€æ”¯æŒ å°†â€œenglishâ€æ‹–åŠ¨åˆ°æœ€ä¸Šç«¯ï¼Œé‡å¯ç³»ç»Ÿã€‚
é‡å¯åï¼Œä¼šæç¤ºæ›´æ–°æ–‡ä»¶åç§°ï¼Œæ›´æ–°ååœ¨å°†è¯­è¨€â€ä¸­æ–‡â€œæ‹–åŠ¨åˆ°é¡¶éƒ¨ï¼Œé‡å¯ç³»ç»Ÿ ã€‚



### jdk8å®‰è£…

#### 1. ä½¿ç”¨å®‰è£…åŒ…å®‰è£…

**å®˜æ–¹ä¸‹è½½å¯¹åº”çš„.gzåŒ…ï¼Œè¿™é‡Œä»¥jdk-8u231-linux-x64.tar.gzä¸ºä¾‹** :  **[JDKå®˜ç½‘ä¸‹è½½åœ°å€](https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)**

##### 1.1åˆ›å»ºä¸€ä¸ªç›®å½•ç”¨äºå­˜æ”¾è§£å‹åçš„æ–‡ä»¶ï¼Œå¹¶è§£å‹ç¼©åˆ°è¯¥ç›®å½•ä¸‹

```shell
sudo mkdir /usr/lib/jvm
sudo tar -zxvf jdk-8u181-linux-x64.tar.gz -C /usr/lib/jvm
```

##### 1.2ä¿®æ”¹ç¯å¢ƒå˜é‡

```shell
sudo vim ~/.bashrc
```

##### 1.3æ–‡ä»¶æœ«å°¾è¿½åŠ å¦‚ä¸‹å†…å®¹

```shell
#set oracle jdk environment
export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_231  ## è¿™é‡Œè¦æ³¨æ„ç›®å½•è¦æ¢æˆè‡ªå·±è§£å‹çš„jdk ç›®å½•
export JRE_HOME=${JAVA_HOME}/jre  
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  
export PATH=${JAVA_HOME}/bin:$PATH  

```

##### 1.4ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ

```shell
source ~/.bashrc
```

##### 1.5è®¾ç½®é»˜è®¤jdk

```shell
sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk1.8.0_181/bin/java 300  
sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/jdk1.8.0_181/bin/javac 300  
sudo update-alternatives --install /usr/bin/jar jar /usr/lib/jvm/jdk1.8.0_181/bin/jar 300   
sudo update-alternatives --install /usr/bin/javah javah /usr/lib/jvm/jdk1.8.0_181/bin/javah 300   
sudo update-alternatives --install /usr/bin/javap javap /usr/lib/jvm/jdk1.8.0_181/bin/javap 300 

```

##### 1.6æ‰§è¡Œ

```shell
sudo update-alternatives --config java
```

##### 1.7æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ

```shell
java -version

javac -version
```

#### 2. ä½¿ç”¨ppa(æº)æ–¹å¼å®‰è£…

##### 2.1æ·»åŠ ppaæº

```shell
sudo add-apt-repository ppa:webupd8team/java

sudo apt-get update
```

##### 2.2å®‰è£…oracle-java-installerï¼ˆjdk8ç‰ˆæœ¬ï¼‰

```shell
sudo apt-get install oracle-java8-installer
```

æ³¨ï¼šå®‰è£…å™¨ä¼šæç¤ºæ˜¯å¦åŒæ„æ¡æ¬¾ï¼Œæ ¹æ®æç¤ºé€‰æ‹©yeså³å¯ï¼Œè‹¥ä¸æƒ³æ‰‹åŠ¨è¾“å…¥ï¼Œåˆ™å¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ–¹å¼è‡ªåŠ¨å®Œæˆï¼š

```shell
echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections
```

##### 2.3è®¾ç½®é»˜è®¤çš„jdkï¼Œå¯ä»¥å®‰è£…å¤šä¸ªjdkç‰ˆæœ¬

```shell
sudo update-java-alternatives -s java-8-oracle
```

##### 2.4æµ‹è¯•jdkæ˜¯å¦å®‰è£…æˆåŠŸ

```shell
java -version

javac -version
```

##### æ·»åŠ ç¯å¢ƒå˜é‡

Â·Â·Â·Â·Â·Â·Â·æ‰“å¼€ `vim /etc/profile`ï¼Œæ·»åŠ 

```
export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL
export JAVA_HOME=/usr/local/zdyg/jdk1.8.0_231
export CLASSPATH=./$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib
export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH:$HOME/bin
export JRE_HOME=$JAVA_HOME/jre
export CATALINA_HOME=/usr/local/zdyg/apache-tomcat-9.0.30
export JAVA_BIN=$JAVA_HOME/bin

```

é‡å¯é…ç½®æ–‡ä»¶

```shell
source /etc/profile
```



### tomcatå®‰è£…

##### 1.ä¸‹è½½

è¿›å…¥ç½‘å€ï¼šhttps://tomcat.apache.org/download-90.cgi   ï¼Œ ä¸‹è½½çº¢æ¡†ä¸­çš„å†…å®¹

![tomcatä¸‹è½½](image/20190131220809688.png) 

##### 2. è§£å‹

```shell
sudo tar -zxvf apache-tomcat-9.0.30.tar.gz -C /usr/lib/jvm
```

##### 3. æ›´æ”¹è¯»å†™æƒé™

```shell
sudo chmod -R 777 /usr/lib/jvm/
```

##### 4. é…ç½®ç¯å¢ƒå˜é‡

```shell
# ç¼–è¾‘
sudo gedit /usr/lib/jvm/apache-tomcat-9.0.30/bin/startup.sh

# æ¥ç€åœ¨æœ€åä¸€è¡Œçš„å‰é¢æ·»åŠ ä»¥ä¸‹å†…å®¹(æ³¨æ„ï¼šä¸æ˜¯æœ€åä¸€è¡Œ)
# å†…å®¹å¦‚ä¸‹ï¼š
# å‰å››è¡Œæ˜¯javaçš„ç¯å¢ƒå˜é‡
export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_231
export JRE_HOME=${JAVA_HOME}/jre 
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib 
export PATH=.:${JAVA_HOME}/bin:$PATH

export TOMCAT_HOME=/usr/lib/jvm/

```

##### å¯åŠ¨

```shell
/usr/lib/jvm/apache-tomcat-9.0.30/bin/startup.sh
```

å¯åŠ¨æˆåŠŸå¦‚ä¸‹

![tomcatå¯åŠ¨æˆåŠŸå›¾](image/20190131232611179.png)







### Mysqlå®‰è£…

#### 1. å®‰è£…æ–¹æ¡ˆ

1. è½¬åˆ°ä½äºhttps://dev.mysql.com/downloads/repo/apt/çš„MySQL APTå­˜å‚¨åº“çš„ä¸‹è½½é¡µé¢ ï¼Œé€‰æ‹©å¹¶ä¸‹è½½é€‚ç”¨äºLinuxå‘è¡Œç‰ˆçš„å‘è¡ŒåŒ…ã€‚

    > æ³¨æ„ï¼šåœ¨è½¯ä»¶åŒ…å®‰è£…è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä¼šæç¤ºæ‚¨é€‰æ‹© MySQL æœåŠ¡å™¨ç‰ˆæœ¬å’Œå…¶ä»–ç»„ä»¶ï¼Œä¾‹å¦‚ç¾¤é›†ã€å…±äº«å®¢æˆ·ç«¯åº“æˆ–é…ç½®è¦å®‰è£… MySQL çš„å·¥ä½œå°ã€‚

2. é»˜è®¤ MySQL æœåŠ¡å™¨ç‰ˆæœ¬ mysql-8.0 çš„æºå°†è¢«è‡ªåŠ¨é€‰ä¸­ï¼Œæˆ‘ä»¬åªéœ€æœ€ç»ˆç¡®å®šå°±å¯ä»¥å®Œæˆå‘è¡ŒåŒ…çš„é…ç½®å’Œå®‰è£…ã€‚

    å®‰è£…æ‰§è¡Œï¼Œé€‰æ‹©MySQL8.0ï¼ŒOKã€‚

    ![å¦‚ä½•åœ¨Ubuntu 18.04ä¸­å®‰è£…MySQL 8æœåŠ¡å™¨](image/18112014329191-1577171642494.png)

3. ç„¶å  `sudo apt update`  ä¸€ä¸‹

    ![img](image/20180516202550104-1577171697262)

4. ä½¿ç”¨**sudo apt install mysql-serve**rå‘½ä»¤ï¼Œå°±ä¼šå®‰è£…MySQL8.0

    ![img](image/20180516202620208)

5. æŒ‰æ­¤æ–¹æ³•ä¼šåœ¨å®‰è£…è¿‡ç¨‹ä¸­å‡ºç°å¦‚ä¸‹[ç•Œé¢](https://www.baidu.com/s?wd=ç•Œé¢&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd)è¦æ±‚ç”¨æˆ·è¾“å…¥MySQLå¯†ç (è¦è¾“å…¥ä¸¤æ¬¡ï¼Œç¬¬äºŒæ¬¡ç¡®è®¤å¯†ç )

    ![img](image/20180516202954423)

6. **MySQL8.0é‡‡ç”¨äº†æ–°çš„åŠ å¯†æ–¹å¼ï¼Œä¸€å®šè¦æ³¨æ„ï¼Œæ­£æ˜¯å› ä¸ºè¿™ä¸ªåŠ å¯†æ–¹å¼æ‰å¯¼è‡´Ubuntu18.04ç”¨è®¾ç½®çš„rootå¯†ç ç™»å½•ä¸äº†MySQLï¼Œå› ä¸ºUbuntu18.04çš„ç»ˆç«¯å¯èƒ½æœ‰é—®é¢˜ï¼Œå¹¶ä¸æ”¯æŒè¿™ä¸ªæ–°çš„åŠ å¯†æ–¹å¼ã€‚å¹¸å¥½æœ‰ç•Œé¢å¯ä»¥è®©æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨æ—§ç‰ˆæœ¬5.xçš„åŠ å¯†æ–¹å¼ï¼Œæ‰€ä»¥æœæ–­é€‰æ‹©é‡‡ç”¨5.xçš„åŠ å¯†æ–¹å¼ã€‚**

    ![img](image/20180516202819595)

7. æœ€ååœ¨ç»ˆç«¯è¾“å…¥mysql -u root -på‘½ä»¤å¹¶è¾“å…¥å¯†ç æ£€æŸ¥å®‰è£…æˆåŠŸè€Œä¸”å¯ä»¥çœ‹åˆ°MySQLç‰ˆæœ¬å·ä¸º8.0ï¼ï¼

    ![img](image/20180516204345135)

#### 2. å®˜æ–¹æ–‡æ¡£

**å…¨æ–°å®‰è£…MySQLçš„æ­¥éª¤**ï¼š**[å®˜æ–¹ç½‘å€](https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/#apt-repo-fresh-install)** 

> ä»¥ä¸‹è¯´æ˜å‡å®šæ‚¨çš„ç³»ç»Ÿä¸Šå°šæœªå®‰è£…MySQLçš„ä»»ä½•ç‰ˆæœ¬ï¼ˆæ— è®ºæ˜¯ç”±Oracleè¿˜æ˜¯å…¶ä»–æ–¹åˆ†å‘ï¼‰ï¼›å¦‚æœä¸æ˜¯è¿™ç§æƒ…å†µï¼Œè¯·æŒ‰ç…§[ä½¿ç”¨MySQL APTå­˜å‚¨åº“](https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-replacing)[æ›¿æ¢MySQLçš„](https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-replace-direct)[æœ¬æœºå‘è¡Œç‰ˆ](https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-replacing)æˆ– [æ›¿æ¢ç›´æ¥debç¨‹åºåŒ…ä¸‹è½½å®‰è£…çš„MySQLæœåŠ¡å™¨ä¸­](https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-replace-direct)ç»™å‡ºçš„è¯´æ˜è¿›è¡Œæ“ä½œ 

##### 1. æ·»åŠ MySQL APTå­˜å‚¨åº“

1. è½¬åˆ°ä½äºhttps://dev.mysql.com/downloads/repo/apt/çš„MySQL APTå­˜å‚¨åº“çš„ä¸‹è½½é¡µé¢ ã€‚

2. é€‰æ‹©å¹¶ä¸‹è½½é€‚ç”¨äºLinuxå‘è¡Œç‰ˆçš„å‘è¡ŒåŒ…ã€‚

3. ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¸‹è½½çš„å‘è¡Œè½¯ä»¶åŒ…ï¼Œå¹¶ç”¨*`version-specific-package-name`* ä¸‹è½½çš„è½¯ä»¶åŒ…çš„åç§°æ›¿æ¢ ï¼ˆå¦‚æœä¸åœ¨è½¯ä»¶åŒ…æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­è¿è¡Œè¯¥å‘½ä»¤ï¼Œåˆ™ä»¥å…¶è·¯å¾„å¼€å¤´ï¼‰ï¼š

    ```terminal
    shell> sudo dpkg -i /PATH/version-specific-package-name.deb
    ```

    

    ä¾‹å¦‚ï¼Œå¯¹äº*`w.x.y-z`*è½¯ä»¶åŒ…çš„ç‰ˆæœ¬ ï¼Œå‘½ä»¤ä¸ºï¼š

    ```shell
    sudo dpkg -i mysql-apt-config_w.x.y-z_all.deb
    ```

    è¯·æ³¨æ„ï¼Œç›¸åŒçš„è½¯ä»¶åŒ…å¯åœ¨æ‰€æœ‰å—æ”¯æŒçš„Debianå’ŒUbuntuå¹³å°ä¸Šä½¿ç”¨ã€‚

4. åœ¨å®‰è£…è½¯ä»¶åŒ…çš„è¿‡ç¨‹ä¸­ï¼Œå°†è¦æ±‚æ‚¨é€‰æ‹©è¦å®‰è£…çš„MySQLæœåŠ¡å™¨å’Œå…¶ä»–ç»„ä»¶ï¼ˆä¾‹å¦‚MySQL Workbenchï¼‰çš„ç‰ˆæœ¬ã€‚å¦‚æœä¸ç¡®å®šè¦é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ï¼Œè¯·ä¸è¦æ›´æ”¹ä¸ºæ‚¨é€‰æ‹©çš„é»˜è®¤é€‰é¡¹ã€‚ å¦‚æœæ‚¨ä¸æƒ³å®‰è£…ç‰¹å®šçš„ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥**ä¸**é€‰æ‹©**ä»»ä½•**ä¸€ä¸ªã€‚åœ¨ä¸ºæ‰€æœ‰ç»„ä»¶åšå‡ºé€‰æ‹©ä¹‹åï¼Œé€‰æ‹©**ç¡®å®š**ä»¥å®Œæˆå‘è¡ŒåŒ…çš„é…ç½®å’Œå®‰è£…ã€‚

    ä»¥åï¼Œæ‚¨éšæ—¶å¯ä»¥æ›´æ”¹é€‰æ‹©ã€‚ æœ‰å…³è¯´æ˜ï¼Œè¯·å‚è§[é€‰æ‹©ä¸»è¦å‘è¡Œç‰ˆæœ¬](https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-select-series)ã€‚

5. ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä»MySQL APTå­˜å‚¨åº“æ›´æ–°è½¯ä»¶åŒ…ä¿¡æ¯ï¼ˆ*æ­¤æ­¥éª¤ä¸ºå¿…éœ€æ­¥éª¤*ï¼‰ï¼š

    ```shell
    sudo apt-get update
    ```

é™¤äº†ä½¿ç”¨å‘è¡ŒåŒ…ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥æ‰‹åŠ¨æ·»åŠ å’Œé…ç½®MySQL APTå­˜å‚¨åº“ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ [é™„å½•Aï¼šæ‰‹åŠ¨æ·»åŠ å’Œé…ç½®MySQL APTå­˜å‚¨åº“](https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-repo-manual-setup)ã€‚

> æ³¨æ„
>
> ä¸€æ—¦åœ¨ç³»ç»Ÿä¸Šå¯ç”¨äº†MySQL APTå­˜å‚¨åº“ï¼Œåœ¨ç¦ç”¨MySQL APTå­˜å‚¨åº“ä¹‹å‰ï¼Œæ‚¨å°†ä¸å†èƒ½å¤Ÿä»å¹³å°çš„æœ¬æœºè½¯ä»¶å­˜å‚¨åº“å®‰è£…ä»»ä½•MySQLè½¯ä»¶åŒ…ã€‚

##### 2. ä½¿ç”¨APTå®‰è£…MySQL

é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…MySQLï¼š

```terminal
shell> sudo apt-get install mysql-server
```

è¿™å°†å®‰è£…ç”¨äºMySQLæœåŠ¡å™¨çš„è½¯ä»¶åŒ…ï¼Œä»¥åŠç”¨äºå®¢æˆ·ç«¯å’Œæ•°æ®åº“å…¬ç”¨æ–‡ä»¶çš„è½¯ä»¶åŒ…ã€‚

åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œè¦æ±‚æ‚¨ä¸ºrootç”¨æˆ·æä¾›å¯†ç ä»¥è¿›è¡ŒMySQLå®‰è£…ã€‚

> é‡è¦
>
> ç¡®ä¿è®°ä½è®¾ç½®çš„æ ¹å¯†ç ã€‚ä»¥åæƒ³è¦è®¾ç½®å¯†ç çš„ç”¨æˆ·å¯ä»¥åœ¨å¯¹è¯æ¡†ä¸­å°†â€œ **å¯†ç â€**å­—æ®µç•™ç©ºï¼Œç„¶åæŒ‰â€œ **ç¡®å®šâ€**ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹æœåŠ¡å™¨çš„æ ¹è®¿é—®å°†é€šè¿‡ [Socket Peer-Credential Pluggable Authentication](https://dev.mysql.com/doc/refman/8.0/en/socket-pluggable-authentication.html)è¿›è¡Œ[èº«ä»½éªŒè¯ï¼Œ](https://dev.mysql.com/doc/refman/8.0/en/socket-pluggable-authentication.html)ä»¥ä½¿ç”¨Unixå¥—æ¥å­—æ–‡ä»¶è¿›è¡Œè¿æ¥ã€‚æ‚¨å¯ä»¥ç¨åä½¿ç”¨ç¨‹åº**[mysql_secure_installation](https://dev.mysql.com/doc/refman/8.0/en/mysql-secure-installation.html)**è®¾ç½®rootå¯†ç  ã€‚

##### 3. å¯åŠ¨å’Œåœæ­¢MySQLæœåŠ¡å™¨

å®‰è£…åï¼ŒMySQLæœåŠ¡å™¨å°†è‡ªåŠ¨å¯åŠ¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥MySQLæœåŠ¡å™¨çš„çŠ¶æ€ï¼š

```terminal
shell> sudo service mysql status
```

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœæ­¢MySQLæœåŠ¡å™¨ï¼š

```terminal
shell> sudo service mysql stop
```

è¦é‡å¯MySQLæœåŠ¡å™¨ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```terminal
shell> sudo service mysql start
```

> æ³¨æ„
>
> ä¸€äº›ä¾èµ–äºæœ¬æœºMySQLè½¯ä»¶åŒ…çš„ç¬¬ä¸‰æ–¹æœ¬æœºå­˜å‚¨åº“è½¯ä»¶åŒ…å¯èƒ½æ— æ³•ä¸MySQL APTå­˜å‚¨åº“è½¯ä»¶åŒ…ä¸€èµ·ä½¿ç”¨ï¼Œå› æ­¤ä¸åº”ä¸å®ƒä»¬ä¸€èµ·ä½¿ç”¨ã€‚è¿™äº›åŒ…æ‹¬akonadi-backend-mysqlï¼Œhandlersocket-mysql-5.5å’Œzoneminderã€‚

#### 3. æƒé™è®¾ç½®

##### æŸ¥è¯¢ç”¨æˆ·åŠæƒé™

```mysql
SELECT User, Host, plugin FROM mysql.user;
```

##### åˆ›å»ºæ–°ç”¨æˆ·

é€šè¿‡rootç”¨æˆ·ç™»å½•ä¹‹ååˆ›å»º

```mysql
grant all privileges on *.* to testuser@localhost identified by "123456";ã€€ã€€# åˆ›å»ºæ–°ç”¨æˆ·ï¼Œç”¨æˆ·åä¸ºtestuserï¼Œå¯†ç ä¸º123456 ï¼›

grant all privileges on *.* to testuser@localhost identified by "123456";ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œå¯ä»¥åœ¨æœ¬åœ°è®¿é—®mysql

grant all privileges on *.* to testuser@"%" identified by "123456";ã€€ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œå¯ä»¥åœ¨è¿œç¨‹è®¿é—®mysql

flush privileges;ã€€ã€€#  mysql æ–°è®¾ç½®ç”¨æˆ·æˆ–æ›´æ”¹å¯†ç åéœ€ç”¨flush privilegesåˆ·æ–°MySQLçš„ç³»ç»Ÿæƒé™ç›¸å…³è¡¨ï¼Œå¦åˆ™ä¼šå‡ºç°æ‹’ç»è®¿é—®ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯é‡æ–°å¯åŠ¨mysqlæœåŠ¡å™¨ï¼Œæ¥ä½¿æ–°è®¾ç½®ç”Ÿæ•ˆ
```

##### è®¾ç½®ç”¨æˆ·è®¿é—®æ•°æ®åº“æƒé™

```mysql
grant all privileges on test_db.* to testuser@localhost identified by "123456";ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œåªèƒ½è®¿é—®æ•°æ®åº“test_dbï¼Œå…¶ä»–æ•°æ®åº“å‡ä¸èƒ½è®¿é—® ï¼›

grant all privileges on *.* to testuser@localhost identified by "123456";ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œå¯ä»¥è®¿é—®mysqlä¸Šçš„æ‰€æœ‰æ•°æ®åº“ ï¼›

grant all privileges on test_db.user_infor to testuser@localhost identified by "123456";ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œåªèƒ½è®¿é—®æ•°æ®åº“test_dbçš„è¡¨user_inforï¼Œæ•°æ®åº“ä¸­çš„å…¶ä»–è¡¨å‡ä¸èƒ½è®¿é—® ï¼›
```

##### è®¾ç½®ç”¨æˆ·æ“ä½œæƒé™

```mysql
grant all privileges on *.* to testuser@localhost identified by "123456" WITH GRANT OPTION;ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œæ‹¥æœ‰æ‰€æœ‰çš„æ“ä½œæƒé™ï¼Œä¹Ÿå°±æ˜¯ç®¡ç†å‘˜ ï¼›

grant select on *.* to testuser@localhost identified by "123456" WITH GRANT OPTION;ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œåªæ‹¥æœ‰ã€æŸ¥è¯¢ã€‘æ“ä½œæƒé™ ï¼›

grant select,insert on *.* to testuser@localhost identified by "123456";ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œåªæ‹¥æœ‰ã€æŸ¥è¯¢\æ’å…¥ã€‘æ“ä½œæƒé™ ï¼›

grant select,insert,update,delete on *.* to testuser@localhost identified by "123456";ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œåªæ‹¥æœ‰ã€æŸ¥è¯¢\æ’å…¥ã€‘æ“ä½œæƒé™ ï¼›

REVOKE select,insert ON what FROM testuser;ã€€ã€€# å–æ¶ˆç”¨æˆ·testuserçš„ã€æŸ¥è¯¢\æ’å…¥ã€‘æ“ä½œæƒé™ ï¼›
```

##### è®¾ç½®ç”¨æˆ·è¿œç¨‹è®¿é—®æƒé™

```mysql
grant all privileges on *.* to testuser@â€œ192.168.1.100â€ identified by "123456";ã€€ã€€# è®¾ç½®ç”¨æˆ·testuserï¼Œåªèƒ½åœ¨å®¢æˆ·ç«¯IPä¸º192.168.1.100ä¸Šæ‰èƒ½è¿œç¨‹è®¿é—®mysql ï¼›
```

##### å…³äºrootç”¨æˆ·çš„è®¿é—®è®¾ç½®

è®¾ç½®æ‰€æœ‰ç”¨æˆ·å¯ä»¥è¿œç¨‹è®¿é—®mysqlï¼Œä¿®æ”¹my.cnfé…ç½®æ–‡ä»¶ï¼Œå°†bind-address = 127.0.0.1å‰é¢åŠ â€œ#â€æ³¨é‡Šæ‰ï¼Œè¿™æ ·å°±å¯ä»¥å…è®¸å…¶ä»–æœºå™¨è¿œç¨‹è®¿é—®æœ¬æœºmysqläº†ï¼›

```mysql
grant all privileges on *.* to root@"%" identified by "123456";ã€€ã€€ã€€# è®¾ç½®ç”¨æˆ·rootï¼Œå¯ä»¥åœ¨è¿œç¨‹è®¿é—®mysql

select host,user from user; ã€€ã€€# æŸ¥è¯¢mysqlä¸­æ‰€æœ‰ç”¨æˆ·æƒé™

# å…³é—­rootç”¨æˆ·è¿œç¨‹è®¿é—®æƒé™
delete from user where user="root" and host="%";ã€€ã€€# ç¦æ­¢rootç”¨æˆ·åœ¨è¿œç¨‹æœºå™¨ä¸Šè®¿é—®mysql

flush privileges;ã€€ã€€# ä¿®æ”¹æƒé™ä¹‹åï¼Œåˆ·æ–°MySQLçš„ç³»ç»Ÿæƒé™ç›¸å…³è¡¨æ–¹å¯ç”Ÿæ•ˆã€€ã€€
```

#### 4. mysql5.7å®‰è£…

##### å®‰è£…

```shell
sudo apt-get install mysql-server
sudo apt-get install mysql-client
```

##### æ£€æŸ¥MySQLæ˜¯å¦è¿è¡Œ

```shell
sudo netstat -tap | grep mysql
```

##### é‡å¯/æ‰“å¼€/å…³é—­MySQLçš„æ–¹æ³•æ˜¯

```shell
sudo service mysql restart/start/stop
```

##### æŸ¥çœ‹åˆå§‹ç”¨æˆ·åå’Œå¯†ç 

> ä½¿ç”¨è´¦å·rootï¼Œæ— å¯†ç  å¯ç›´æ¥è¿›å…¥mysql

æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶

```shell
sudo cat /etc/mysql/debian.cnf

```

åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢æœ‰ç€MySQLé»˜è®¤çš„ç”¨æˆ·åå’Œç”¨æˆ·å¯†ç ï¼Œ æœ€æœ€é‡è¦çš„æ˜¯ï¼šç”¨æˆ·åé»˜è®¤çš„ä¸æ˜¯rootï¼Œè€Œæ˜¯debian-sys-maintï¼Œå¦‚ä¸‹æ‰€ç¤º

```
# Automatically generated for Debian scripts. DO NOT TOUCH!
[client]
host     = localhost
user     = debian-sys-maint
password = skFz7zS0Fl1t2QHK
socket   = /var/run/mysqld/mysqld.sock
[mysql_upgrade]
host     = localhost
user     = debian-sys-maint
password = skFz7zS0Fl1t2QHK
socket   = /var/run/mysqld/mysqld.sock

```

è®°ä¸‹è¿™é‡Œçš„ ***user*** å’Œ ***password***ï¼Œç„¶ååˆ°ç»ˆç«¯é‡Œè¾“å…¥ `mysql -u debian-sys-maint -p`ï¼Œéšå³ä¼šè®©æˆ‘ä»¬è¾“å…¥å¯†ç ï¼Œæ­¤æ—¶è¾“å…¥æˆ‘ä»¬åˆšæ‰è®°ä¸‹çš„å¯†ç å³å¯è¿›å…¥ mysql çš„shellç¯å¢ƒäº†ã€‚

##### æ›´æ”¹è®¿é—®è´¦æˆ·å¯†ç 

```mysql
update mysql.user set authentication_string=password('password') where user='root'and Host = 'localhost';
```

> Tips:è¿™é‡Œè¯´æ˜ä¸‹ï¼Œåœ¨ MySQL 5.7 passwordå­—æ®µå·²ä»`mysql.user`è¡¨ä¸­åˆ é™¤ï¼Œæ–°çš„å­—æ®µåæ˜¯`authenticalion_string`ã€‚

ç„¶åä½ ä»¥ä¸ºåœ¨ç»ˆç«¯è¾“å…¥`mysql -u root -p`ï¼Œç„¶åå†è¾“å…¥ä½ åˆšæ‰è®¾ç½®çš„å¯†ç å°±å¯ä»¥è®¿é—®äº†å—ï¼Ÿ

å¤©çœŸï¼Œæ€ä¹ˆä¼šé‚£ä¹ˆç®€å•ï¼Œæƒ³è¦æˆé•¿ï¼Œæ€ä¹ˆèƒ½ä¸è¢«æ— æƒ…çš„ç°å®è¹‚èºä¸€ç•ªã€‚

![image-20190812152939808](image/16c85272149218b0)

å¯æˆ‘æ˜æ˜å°±å·²ç»æ”¹è¿‡å¯†ç äº†ï¼Œä¸ºå•¥è¿˜æ˜¯ç™»é™†ä¸è¿›å»ã€‚

äºæ˜¯æˆ‘åˆå¼€å§‹åœ¨åº¦å¨˜ä¸Šæœç´¢ï¼Œç»ˆäºæ‰¾åˆ°äº†é—®é¢˜çš„åŸå› ï¼š

> åŸå› æ˜¯å› ä¸ºåœ¨æœ€è¿‘çš„Ubuntuå®‰è£…ï¼ˆå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯å…¶ä»–å®‰è£…ï¼‰ä¸­ï¼ŒMySQLé»˜è®¤ä½¿ç”¨äº†`UNIX auth_socket plugin`æ’ä»¶ã€‚
>
> ç®€å•æ¥è¯´è¿™æ„å‘³ç€å½“`db_users`ä½¿ç”¨æ•°æ®åº“æ—¶ï¼Œ**å°†ä¼šé€šè¿‡ç³»ç»Ÿç”¨æˆ·è®¤è¯è¡¨è¿›è¡Œè®¤è¯**ã€‚

ä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤çœ‹çœ‹ä½ çš„rootç”¨æˆ·æ˜¯å¦è®¾ç½®æˆäº†è¿™æ ·ï¼š

```mysql
mysql> USE mysql;
mysql> SELECT User, Host, plugin FROM mysql.user;

+------------------+-----------------------+
| User             | plugin                |
+------------------+-----------------------+
| root             | auth_socket           |
| mysql.sys        | mysql_native_password |
| debian-sys-maint | mysql_native_password |
+------------------+-----------------------+

```

å¦‚æœæ˜¯è¿™æ ·çš„è¯å°±è¯´æ˜rootç”¨æˆ·æ­£åœ¨ä½¿ç”¨`auth_socket`æ’ä»¶ï¼Œå¯¹äºè¿™ç§é—®é¢˜ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š

1. **è®¾ç½®ä½ çš„rootç”¨æˆ·ä½¿ç”¨ mysql_native_password æ’ä»¶**
2. **åˆ›å»ºä¸€ä¸ªä¸ä½ çš„ç³»ç»Ÿç”¨æˆ·ä¸€è‡´çš„æ–°çš„æ•°æ®åº“ç”¨æˆ·ï¼ˆæ¨èï¼‰**

##### è®¾ç½® root ç”¨æˆ·ä½¿ç”¨ mysql_native_password æ’ä»¶

å› ä¸ºä¸æ¨èé‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œæ‰€ä»¥è¿™é‡Œåªæ˜¯ç»™å‡ºè¦æ‰§è¡Œçš„å‘½ä»¤ï¼š

```
mysql> USE mysql;
mysql> UPDATE user SET plugin='mysql_native_password' WHERE User='root';
mysql> FLUSH PRIVILEGES;
mysql> exit;
```

##### åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·

é‡ç‚¹æ¥è¯´ä¸‹è¿™ç§æ–¹å¼ã€‚ä¹‹æ‰€ä»¥è¦æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œä¸å•å•æ˜¯ä¸ºäº†è§£å†³ä¿®æ”¹rootè´¦æˆ·å¯†ç çš„æƒ…å†µã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå½“ä¸€ä¸ªé¡¹ç›®çš„ä½“é‡ä¸Šå»äº†ï¼Œæ•°æ®åº“çš„ç»´æŠ¤å°±å˜å¾—éå¸¸é‡è¦äº†ï¼Œå¦‚æœå‘å±•åˆ°ä¸€å®šç¨‹åº¦åç”¨æˆ·åä»ç„¶æ˜¯rootï¼ˆå¦‚æœè¿™æ—¶å€™è¿˜å¼€é€šäº†å¤–ç½‘è®¿é—®ï¼‰ï¼Œé‚£å®‰å…¨æ€§å°±ä¼šå¤§å¤§é™ä½ã€‚å†µä¸”æ¯ä¸ªé¡¹ç›®çš„å¼€å‘äººå‘˜è‚¯å®šä¸æ­¢ä¸€ä¸ªï¼Œä¸åŒcoderçš„æƒé™ç­‰çº§ä¹Ÿä¸ä¸€æ ·ï¼Œèƒ½å¯¹æ•°æ®åº“è¿›è¡Œçš„æ“ä½œè‚¯å®šä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä¾æ—§æ¨èåœ¨åˆšå¼€å§‹å®‰è£…mysqlæ—¶å°±æ–°å»ºä¸€ä¸ªç”¨æˆ·è¿›è¡Œé…ç½®ã€‚

**å‘½ä»¤ï¼š**

```
CREATE USER 'username'@'host' IDENTIFIED BY 'password';
å¤åˆ¶ä»£ç 
```

**è¯´æ˜ï¼š**

- usernameï¼šä½ å°†åˆ›å»ºçš„ç”¨æˆ·å
- hostï¼šæŒ‡å®šè¯¥ç”¨æˆ·åœ¨å“ªä¸ªä¸»æœºä¸Šå¯ä»¥ç™»é™†ï¼Œå¦‚æœæ˜¯æœ¬åœ°ç”¨æˆ·å¯ç”¨localhostï¼Œå¦‚æœæƒ³è®©è¯¥ç”¨æˆ·å¯ä»¥**ä»ä»»æ„è¿œç¨‹ä¸»æœºç™»é™†**ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦`%`
- passwordï¼šè¯¥ç”¨æˆ·çš„ç™»é™†å¯†ç ï¼Œå¯†ç å¯ä»¥ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¯¥ç”¨æˆ·å¯ä»¥ä¸éœ€è¦å¯†ç ç™»é™†æœåŠ¡å™¨

**ä¸¾ä¾‹ï¼š**

å¦‚æœæˆ‘æƒ³åˆ›å»ºä¸€ä¸ªç”¨æˆ·åä¸º"lyy"ï¼Œå¯†ç ä¸º123456ï¼Œä¸”**å…è®¸ä»ä»»æ„è¿œç¨‹ä¸»æœºç™»é™†**ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤ï¼š

```
CREATE USER 'lyy'@'%' IDENTIFIED BY '123456';
å¤åˆ¶ä»£ç 
```

##### ç»™æ–°åˆ›å»ºçš„ç”¨æˆ·æˆæƒ

**å‘½ä»¤ï¼š**

```
GRANT privileges ON databasename.tablename TO 'username'@'host'
å¤åˆ¶ä»£ç 
```

**è¯´æ˜ï¼š**

- privilegesï¼šç”¨æˆ·çš„æ“ä½œæƒé™ï¼Œå¦‚`SELECT`ï¼Œ`INSERT`ï¼Œ`UPDATE`ç­‰ï¼Œå¦‚æœè¦æˆäºˆæ‰€çš„æƒé™åˆ™ä½¿ç”¨`ALL`
- databasenameï¼šæ•°æ®åº“å
- tablenameï¼šè¡¨åï¼Œå¦‚æœè¦æˆäºˆè¯¥ç”¨æˆ·å¯¹æ‰€æœ‰æ•°æ®åº“å’Œè¡¨çš„ç›¸åº”æ“ä½œæƒé™åˆ™å¯ç”¨`*`è¡¨ç¤ºï¼Œå¦‚`*.*`

**ä¾‹å­ï¼š**

```
GRANT SELECT, INSERT ON test.user TO 'lyy'@'%';
GRANT ALL ON *.* TO 'lyy'@'%';
å¤åˆ¶ä»£ç 
```

è¿™æ ·æˆ‘ä»¬åœ¨å›åˆ°shellç¯å¢ƒä¸­ï¼Œæ‰§è¡Œ`mysql -u lyy -p`ç„¶åè¾“å…¥å¯†ç å°±å¯ä»¥è¿›å…¥mysqlçš„shellç¯å¢ƒäº†ã€‚

> Tipsï¼šå¦‚æœæƒ³è¦æ›´æ–°æŸä¸ªç”¨æˆ·çš„å¯†ç åªéœ€è¦æ‰§è¡Œï¼š
>
> ```
> update user set authentication_string=password('password') where user='username' and host='host';
> å¤åˆ¶ä»£ç 
> ```

##### è®¾ç½® mysql å¯ä»¥å¤–ç½‘è®¿é—®

åœ¨ä½¿ç”¨ mysql çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éƒ½ä¼šä½¿ç”¨Navicatç­‰å·¥å…·å¯¹æ•°æ®åº“è¿›è¡Œå¯è§†åŒ–ç®¡ç†ï¼Œè¿™æ—¶å°±éœ€è¦è®¾ç½®mysqlå¤–ç½‘è®¿é—®äº†ã€‚

è®¾ç½®è¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼š

1. è®¾ç½®ç”¨æˆ·å¯ä»¥**ä»ä»»æ„è¿œç¨‹ä¸»æœºç™»é™†**
2. ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ³¨é‡Šæ‰ `bind-address`

ç¬¬ä¸€æ­¥åœ¨ä¸Šé¢å·²ç»è¯´è¿‡äº†ï¼Œè¿™é‡Œæ¥è¯´ä¸‹ç¬¬äºŒæ­¥ï¼š

mysql 5.7çš„é…ç½®æ–‡ä»¶è·¯å¾„åœ¨ï¼š`/etc/mysql/mysql.conf.d/mysqld.cnf`ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ`sudo cat /etc/mysql/mysql.conf.d/mysqld.cnf`å‘½ä»¤æ—¶ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š



![img](image/16c8527214bdf30c)



åœ¨`bind-address`å‰æ·»åŠ `#`æ³¨é‡Šæ‰è¯¥è¡Œå³å¯ã€‚

> Tipsï¼šå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä¿®æ”¹mysqlçš„å¯åŠ¨ç«¯å£ï¼Œå¯ä»¥ä¿®æ”¹ä¸Šè¿°å›¾ç‰‡ä¸­çš„ **port** éƒ¨åˆ†ä¸ºè‡ªå·±æƒ³è¦çš„ç«¯å£å·ã€‚

åœ¨è¿™ä¸€åˆ‡éƒ½å¼„å¥½ä¹‹ååˆ«å¿˜äº†é‡æ–°å¯åŠ¨ä¸‹mysqlå“¦ğŸ˜¯

```
sudo service mysql restart
```

#### 5. centoså®‰è£…mysql

https://www.jianshu.com/p/1dab9a4d0d5f

##### å®‰è£… mysql æº

```shell
# ä¸‹è½½
shell> wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm
# å®‰è£… mysql æº
shell> yum localinstall mysql57-community-release-el7-11.noarch.rpm
```

ç”¨ä¸‹é¢çš„å‘½ä»¤æ£€æŸ¥ mysql æºæ˜¯å¦å®‰è£…æˆåŠŸ

```shell
shell> yum repolist enabled | grep "mysql.*-community.*"
```

##### å®‰è£… MySQL

ä½¿ç”¨ yum install å‘½ä»¤å®‰è£…

```undefined
shell> yum install -y mysql-community-server
```

##### æŸ¥çœ‹Mysql

```shell
# å¯åŠ¨MySQL
systemctl start mysqld
# æŸ¥çœ‹ MySQL çŠ¶æ€
systemctl status mysqld
# é‡å¯MySQL
systemctl restart mysqld
```

##### è®¾ç½®å¼€æœºå¯åŠ¨

```shell
shell> systemctl enable mysqld
# é‡è½½æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶
shell> systemctl daemon-reload
```

##### ä¿®æ”¹ root æœ¬åœ°è´¦æˆ·å¯†ç 

mysql å®‰è£…å®Œæˆä¹‹åï¼Œç”Ÿæˆçš„é»˜è®¤å¯†ç åœ¨ `/var/log/mysqld.log` æ–‡ä»¶ä¸­ã€‚ä½¿ç”¨ grep å‘½ä»¤æ‰¾åˆ°æ—¥å¿—ä¸­çš„å¯†ç ã€‚

```bash
shell> grep 'temporary password' /var/log/mysqld.log
```

ç™»å½•ï¼Œä¿®æ”¹å¯†ç 

> é»˜è®¤å¯†ç æ£€æŸ¥ç­–ç•¥è¦æ±‚å¯†ç å¿…é¡»åŒ…å«ï¼šå¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·ï¼Œå¹¶ä¸”é•¿åº¦ä¸èƒ½å°‘äº8ä½ã€‚

```bash
shell> mysql -uroot -p
mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'å¯†ç '; 
```

æˆ–è€…

```mysql
mysql> set password for 'root'@'localhost'=password('å¯†ç '); 
```

ä»¥åé€šè¿‡ update set è¯­å¥ä¿®æ”¹å¯†ç 

```mysql
mysql> use mysql;
mysql> update user set password=PASSWORD('å¯†ç ') where user='root';
mysql> flush privileges;
```

##### æ·»åŠ è¿œç¨‹ç™»å½•ç”¨æˆ·

æ·»åŠ ä¸€ä¸ªå…è®¸è¿œç¨‹è¿æ¥çš„å¸æˆ·

```mysql
mysql> GRANT ALL PRIVILEGES ON *.* TO 'ç”¨æˆ·å'@'%' IDENTIFIED BY 'å¯†ç ' WITH GRANT OPTION;
```

~~ä¿®æ”¹ root ä¸ºå…è®¸è¿œç¨‹è¿æ¥~~ï¼ˆä¸æ¨èï¼‰

```mysql
mysql> use mysql;
mysql> UPDATE user SET Host='%' WHERE User='root';
mysql> flush privileges;
```

##### è®¾ç½®é»˜è®¤ç¼–ç ä¸º utf8

mysql å®‰è£…åé»˜è®¤ä¸æ”¯æŒä¸­æ–‡ï¼Œéœ€è¦ä¿®æ”¹ç¼–ç ã€‚
 ä¿®æ”¹ `/etc/my.cnf` é…ç½®æ–‡ä»¶ï¼Œåœ¨ç›¸å…³èŠ‚ç‚¹ï¼ˆæ²¡æœ‰åˆ™è‡ªè¡Œæ·»åŠ ï¼‰ä¸‹æ·»åŠ ç¼–ç é…ç½®ï¼Œå¦‚ä¸‹ï¼š

```mysql
[mysqld]
character-set-server=utf8
[client]
default-character-set=utf8
[mysql]
default-character-set=utf8
```

é‡å¯mysqlæœåŠ¡ï¼ŒæŸ¥è¯¢ç¼–ç ã€‚å¯ä»¥çœ‹åˆ°å·²ç»æ”¹è¿‡æ¥äº†

```dart
shell> systemctl restart mysqld
shell> mysql -uroot -p
mysql> show variables like 'character%';
```

#### 6. mysqlå‚æ•°

```
å‘½ä»¤ï¼šshow status like '%ä¸‹é¢å˜é‡%'; 
Aborted_clients                ç”±äºå®¢æˆ·æ²¡æœ‰æ­£ç¡®å…³é—­è¿æ¥å·²ç»æ­»æ‰ï¼Œå·²ç»æ”¾å¼ƒçš„è¿æ¥æ•°é‡ã€‚ 
Aborted_connects            å°è¯•å·²ç»å¤±è´¥çš„MySQLæœåŠ¡å™¨çš„è¿æ¥çš„æ¬¡æ•°ã€‚ 
Connections                     è¯•å›¾è¿æ¥MySQLæœåŠ¡å™¨çš„æ¬¡æ•°ã€‚ 
Created_tmp_tables          å½“æ‰§è¡Œè¯­å¥æ—¶ï¼Œå·²ç»è¢«åˆ›é€ äº†çš„éšå«ä¸´æ—¶è¡¨çš„æ•°é‡ã€‚ 
Delayed_insert_threads     æ­£åœ¨ä½¿ç”¨çš„å»¶è¿Ÿæ’å…¥å¤„ç†å™¨çº¿ç¨‹çš„æ•°é‡ã€‚ 
Delayed_writes                ç”¨INSERT DELAYEDå†™å…¥çš„è¡Œæ•°ã€‚ 
Delayed_errors                ç”¨INSERT DELAYEDå†™å…¥çš„å‘ç”ŸæŸäº›é”™è¯¯(å¯èƒ½é‡å¤é”®å€¼)çš„è¡Œæ•°ã€‚ 
Flush_commands            æ‰§è¡ŒFLUSHå‘½ä»¤çš„æ¬¡æ•°ã€‚ 
Handler_delete                 è¯·æ±‚ä»ä¸€å¼ è¡¨ä¸­åˆ é™¤è¡Œçš„æ¬¡æ•°ã€‚ 
Handler_read_first          è¯·æ±‚è¯»å…¥è¡¨ä¸­ç¬¬ä¸€è¡Œçš„æ¬¡æ•°ã€‚ 
Handler_read_key           è¯·æ±‚æ•°å­—åŸºäºé”®è¯»è¡Œã€‚ 
Handler_read_next           è¯·æ±‚è¯»å…¥åŸºäºä¸€ä¸ªé”®çš„ä¸€è¡Œçš„æ¬¡æ•°ã€‚ 
Handler_read_rnd           è¯·æ±‚è¯»å…¥åŸºäºä¸€ä¸ªå›ºå®šä½ç½®çš„ä¸€è¡Œçš„æ¬¡æ•°ã€‚ 
Handler_update              è¯·æ±‚æ›´æ–°è¡¨ä¸­ä¸€è¡Œçš„æ¬¡æ•°ã€‚ 
Handler_write                 è¯·æ±‚å‘è¡¨ä¸­æ’å…¥ä¸€è¡Œçš„æ¬¡æ•°ã€‚ 
Key_blocks_used            ç”¨äºå…³é”®å­—ç¼“å­˜çš„å—çš„æ•°é‡ã€‚ 
Key_read_requests         è¯·æ±‚ä»ç¼“å­˜è¯»å…¥ä¸€ä¸ªé”®å€¼çš„æ¬¡æ•°ã€‚ 
Key_reads                      ä»ç£ç›˜ç‰©ç†è¯»å…¥ä¸€ä¸ªé”®å€¼çš„æ¬¡æ•°ã€‚ 
Key_write_requests         è¯·æ±‚å°†ä¸€ä¸ªå…³é”®å­—å—å†™å…¥ç¼“å­˜æ¬¡æ•°ã€‚ 
Key_writes                      å°†ä¸€ä¸ªé”®å€¼å—ç‰©ç†å†™å…¥ç£ç›˜çš„æ¬¡æ•°ã€‚ 
Max_used_connections    åŒæ—¶ä½¿ç”¨çš„è¿æ¥çš„æœ€å¤§æ•°ç›®ã€‚ 
Not_flushed_key_blocks   åœ¨é”®ç¼“å­˜ä¸­å·²ç»æ”¹å˜ä½†æ˜¯è¿˜æ²¡è¢«æ¸…ç©ºåˆ°ç£ç›˜ä¸Šçš„é”®å—ã€‚ 
Not_flushed_delayed_rows      åœ¨INSERT DELAYé˜Ÿåˆ—ä¸­ç­‰å¾…å†™å…¥çš„è¡Œçš„æ•°é‡ã€‚ 
Open_tables                  æ‰“å¼€è¡¨çš„æ•°é‡ã€‚ 
Open_files                     æ‰“å¼€æ–‡ä»¶çš„æ•°é‡ã€‚ 
Open_streams               æ‰“å¼€æµçš„æ•°é‡(ä¸»è¦ç”¨äºæ—¥å¿—è®°è½½ï¼‰ 
Opened_tables              å·²ç»æ‰“å¼€çš„è¡¨çš„æ•°é‡ã€‚ 
Questions                     å‘å¾€æœåŠ¡å™¨çš„æŸ¥è¯¢çš„æ•°é‡ã€‚ 
Slow_queries                è¦èŠ±è¶…è¿‡long_query_timeæ—¶é—´çš„æŸ¥è¯¢æ•°é‡ã€‚ 
Threads_connected       å½“å‰æ‰“å¼€çš„è¿æ¥çš„æ•°é‡ã€‚ 
Threads_running          ä¸åœ¨ç¡çœ çš„çº¿ç¨‹æ•°é‡ã€‚ 
Uptime                        æœåŠ¡å™¨å·¥ä½œäº†å¤šå°‘ç§’ã€‚
```








### rediså®‰è£…

#### redis5.0.7å®‰è£…

##### ä¸‹è½½Redis

```shell
wget https://download.redis.io/releases/redis-5.0.0.tar.gz
```

##### è§£å‹æ–‡ä»¶

```shell
sudo tar -zxvf redis-5.0.0.tar.gz -C /usr/local
```

##### å®‰è£… make å’Œ gcc

```shell
sudo apt install make

sudo apt install gcc

```

##### ç¼–è¯‘Redis

```shell
cd redis-5.0.0/
sudo make

```

##### å¦‚éœ€æµ‹è¯•,éœ€è¦å®‰è£…`tcl`

```shell
wget http://downloads.sourceforge.net/tcl/tcl8.6.1-src.tar.gz

sudo cp tcl8.6.1-src.tar.gz /usr/local/
sudo tar -xzvf tcl8.6.1-src.tar.gz

cd  tcl8.6.1/unix/
sudo ./configure

sudo make

sudo make install

cd /usr/local/redis-5.0.0/
sudo make test

```

##### å®‰è£…Redis

```shell
sudo make install
```

##### é…ç½®RedisæœåŠ¡

***é…ç½®`.conf`æ–‡ä»¶***

```shell
sudo mkdir /etc/redis/
sudo cp /usr/local/redis-5.0.7/redis.conf /etc/redis/6379.conf
sudo vim /etc/redis/6379.conf
```

***ä¿®æ”¹`6379.conf`æ–‡ä»¶***

```
...
bind 0.0.0.0
...
protected-mode no
...
daemonize yes
...
logfile /var/log/redis/redis.log
...
dir /var/lib/redis/
...
# replicaof <masterip> <masterport>
replivaof xxx.xxx.xxx.xxx 6379   # ä½œä¸ºä»æœåŠ¡å™¨æ—¶,ä¸»æœåŠ¡å™¨çš„IPä¸ç«¯å£
# masterauth <master-password>
masterauth password          # ä½œä¸ºä»æœåŠ¡å™¨æ—¶,ä¸»æœåŠ¡å™¨å¯ç”¨redisæƒé™è®¤è¯è®¾ç½®çš„å¯†ç 
...
# requirepass foobared
requirepass password         # å¯ç”¨redisæƒé™è®¤è¯,è®¾ç½®çš„å¯†ç 

```

##### é…ç½® Redis å¯åŠ¨è„šæœ¬

```shell
sudo cp /usr/local/redis-5.0.7/utils/redis_init_script /etc/init.d/redisd
sudo chmod +x /etc/init.d/redisd
```

##### åˆå§‹åŒ–ç”¨æˆ·å’Œæ—¥å¿—è·¯å¾„

å»ºè®®ä¸ºRediså•ç‹¬å»ºç«‹ä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶æ–°å»ºdbå’Œæ—¥å¿—æ–‡ä»¶å¤¹

```shell
sudo useradd redis
sudo mkdir -p /var/lib/redis/
sudo mkdir -p /var/log/redis/
sudo chown redis.redis /var/lib/redis/ 
sudo chown redis.redis /var/log/redis/

```

##### è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼Œå…³æœºè‡ªåŠ¨å…³é—­

```shell
sudo update-rc.d redisd defaults
```

##### å¯åŠ¨Redis

```SHELL
sudo /etc/init.d/redisd start	# å¯åŠ¨
sudo /etc/init.d/redisd stop	# åœæ­¢
sudo /etc/init.d/redisd restart  	# é‡å¯
```

#### cenoså®‰è£…redis5.0.7

å‚è€ƒï¼šhttps://blog.csdn.net/NathanniuBee/article/details/83274960

##### ä¸‹è½½Redis

```shell
curl https://download.redis.io/releases/redis-5.0.7.tar.gz
```

##### è§£å‹æ–‡ä»¶

```shell
tar -zxvf redis-5.0.7.tar.gz -C /usr/local
```

##### å®‰è£… make å’Œ gcc

```shell
yum -y install make

yum -y install gcc

```

###### å®‰è£…gccå‡ºç°çš„é—®é¢˜

å‚è€ƒï¼šhttps://blog.csdn.net/fjx1173865548/article/details/78579923

é‡åˆ°ï¼š[Errno 256] No more mirrors to try  çš„é—®é¢˜

```
rm -rf /var/cache/yum/*
 
yum clean all

yum repolist

yum -y install make gcc gcc-c++
```

å‡ºç°ä¸‹è½½æºæ²¡æœ‰çš„æƒ…å†µï¼Œåœ¨åŸŸåæœåŠ¡å™¨é…ç½®ä¸­ï¼Œæ·»åŠ ä¸€ä¸ª8.8.8.8ï¼Œå°±è§£å†³äº†ï¼š

```shell
# vi /etc/resolv.conf

# Generated by NetworkManager
nameserver 8.8.8.8

```

##### ç¼–è¯‘Redis

```shell
cd /usr/local
cd redis-5.0.0/
make
cd src
make install
```

###### makeä¸èƒ½æˆåŠŸçš„åŸå› 

å‚è€ƒï¼šhttps://blog.csdn.net/bugall/article/details/45914867

â€‹			https://blog.csdn.net/qq_35673617/article/details/80235836

> åœ¨README æœ‰è¿™ä¸ªä¸€æ®µè¯ã€‚
>
> è¯´å…³äºåˆ†é…å™¨allocatorï¼Œ å¦‚æœæœ‰MALLOC  è¿™ä¸ª ç¯å¢ƒå˜é‡ï¼Œ ä¼šæœ‰ç”¨è¿™ä¸ªç¯å¢ƒå˜é‡çš„ å»å»ºç«‹Redisã€‚è€Œä¸”libc å¹¶ä¸æ˜¯é»˜è®¤çš„ åˆ†é…å™¨ï¼Œ é»˜è®¤çš„æ˜¯ jemalloc, å› ä¸º jemalloc è¢«è¯æ˜ æœ‰æ›´å°‘çš„ fragmentation problems æ¯”libcã€‚ä½†æ˜¯å¦‚æœä½ åˆæ²¡æœ‰jemalloc è€Œåªæœ‰ libc å½“ç„¶ make å‡ºé”™ã€‚ æ‰€ä»¥åŠ è¿™ä¹ˆä¸€ä¸ªå‚æ•°ã€‚

è§£å†³åŠæ³•
make MALLOC=libc

##### é…ç½®RedisæœåŠ¡

##### ä¿®æ”¹redis.confæ–‡ä»¶

```shell
daemonize yes
#bind 127.0.0.1
protected-mode no
requirepass # å¯†ç    å»ºè®®ä¸è¦è®¾ç½®
```



##### é…ç½® Redis å¯åŠ¨è„šæœ¬

```shell
# å°†/root/redis-5.0.7/redis.confæ–‡ä»¶å¤åˆ¶ä¸€ä»½åˆ°/etc/redisç›®å½•ä¸‹ï¼Œå¹¶å‘½åä¸º6379.confã€€  ä¸æ‹·è´çš„è¯å¯åŠ¨ä¸æˆåŠŸï¼Œå¯åŠ¨æ—¶å›å»æ‰¾è¿™ä¸ªæ–‡ä»¶ï¼Œä¸çŸ¥é“ä¸ºå•¥
cp /usr/local/redis-5.0.7/redis.conf /etc/redis/6379.conf
# å°†redisçš„å¯åŠ¨è„šæœ¬å¤åˆ¶ä¸€ä»½æ”¾åˆ°/etc/init.dç›®å½•ä¸‹
cp /usr/local/redis-5.0.7/utils/redis_init_script /etc/init.d/redisd
chmod +x /etc/init.d/redisd
```

##### è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼Œå…³æœºè‡ªåŠ¨å…³é—­

å…ˆåˆ‡æ¢åˆ°/etc/init.dç›®å½•ä¸‹ï¼Œç„¶åæ‰§è¡Œè‡ªå¯å‘½ä»¤

```shell
chkconfig redisd on
```

å¦‚æœredisdä¸æ”¯æŒchkconfig

ä½¿ç”¨vimç¼–è¾‘redisdæ–‡ä»¶ï¼Œåœ¨ç¬¬ä¸€è¡ŒåŠ å…¥å¦‚ä¸‹ä¸¤è¡Œæ³¨é‡Šï¼Œä¿å­˜é€€å‡º

```
# chkconfig:Â Â  2345 90 10
 
# description:Â  Redis is a persistent key-value database
```

> æ³¨é‡Šçš„æ„æ€æ˜¯ï¼ŒredisæœåŠ¡å¿…é¡»åœ¨è¿è¡Œçº§2ï¼Œ3ï¼Œ4ï¼Œ5ä¸‹è¢«å¯åŠ¨æˆ–å…³é—­ï¼Œå¯åŠ¨çš„ä¼˜å…ˆçº§æ˜¯90ï¼Œå…³é—­çš„ä¼˜å…ˆçº§æ˜¯10ã€‚

å†æ¬¡æ‰§è¡Œå¼€æœºè‡ªå¯å‘½ä»¤ï¼ŒæˆåŠŸ

```
chkconfig redisd on
```

##### å¯åŠ¨Redis

```SHELL
sudo /etc/init.d/redisd start	# å¯åŠ¨
sudo /etc/init.d/redisd stop	# åœæ­¢
sudo /etc/init.d/redisd restart  	# é‡å¯
```

###### å¯åŠ¨rediså‡ºç°çš„é—®é¢˜

ä¿®æ”¹ `/etc/init.d/redisd` æ–‡ä»¶

```
 # å°†è·¯å¾„æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„
 EXEC=/usr/local/redis-5.0.7/src/redis-server
 CLIEXEC=/usr/local/redis-5.0.7/src/redis-cli

```



#### å…¶ä»–æ–¹å¼ï¼ˆä¸æ˜¯redis5ï¼‰

##### 1. å®‰è£… Redis

ä½¿ç”¨ apt ä»å®˜æ–¹ Ubuntu å­˜å‚¨åº“æ¥å®‰è£… Redisï¼š

```shell
$ sudo apt update
$ sudo apt install redis-server
```

##### 2. Redis é…ç½®

æ‰“å¼€ Redisçš„é…ç½®æ–‡ä»¶

```shell
$ sudo vi /etc/redis/redis.conf
```

åœ¨æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°supervisedæŒ‡ä»¤ã€‚ è¯¥æŒ‡ä»¤å…è®¸æ‚¨å£°æ˜ä¸€ä¸ªinitç³»ç»Ÿæ¥ç®¡ç†Redisä½œä¸ºæœåŠ¡ï¼Œä»è€Œä¸ºæ‚¨æä¾›å¯¹å…¶æ“ä½œçš„æ›´å¤šæ§åˆ¶ã€‚ å—supervisedæŒ‡ä»¤é»˜è®¤è®¾ç½®ä¸ºno ã€‚ ç”±äºæ‚¨æ­£åœ¨è¿è¡Œä½¿ç”¨systemd initç³»ç»Ÿçš„Ubuntuï¼Œè¯·å°†å…¶æ›´æ”¹ä¸ºsystemd ï¼š

```
# If you run Redis from upstart or systemd, Redis can interact with your
# supervision tree. Options:
#   supervised no      - no supervision interaction
#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode
#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET
#   supervised auto    - detect upstart or systemd method based on
#                        UPSTART_JOB or NOTIFY_SOCKET environment variables
# Note: these supervision methods only signal "process is ready."
#       They do not enable continuous liveness pings back to your supervisor.
supervised systemd
```

é‡æ–°åŠ è½½RedisæœåŠ¡æ–‡ä»¶ä»¥åæ˜ æ‚¨å¯¹é…ç½®æ–‡ä»¶æ‰€åšçš„æ›´æ”¹ï¼š

```shell
$ sudo service redis restart
```

æŸ¥çœ‹ Redis çš„è¿è¡ŒçŠ¶æ€ï¼š

```shell
$ sudo systemctl status redis
```

è¾“å‡ºå¦‚ä¸‹ç»“æœè¡¨ç¤ºè¿è¡ŒæˆåŠŸï¼š

![redis-install-1](image/05-ubuntu-install-redis.png)

ç°åœ¨å·²ç»æˆåŠŸå®‰è£…å’Œé…ç½®äº†Rediså¹¶ä¸”å·²ç»å¼€å§‹è¿è¡Œã€‚

##### 3. Redis æ§åˆ¶

***redis æœåŠ¡æ§åˆ¶***

å¯åŠ¨ redis æœåŠ¡ï¼š

```shell
$ sudo service redis start
```

å…³é—­ redis æœåŠ¡ï¼š

```shell
$ sudo service redis stop
```

é‡å¯ redis æœåŠ¡ï¼š

```shell
$ sudo service redis restart
```

***redis å®¢æˆ·ç«¯è¿æ¥***

åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤æ¥ç™»é™†è¿› redis å®¢æˆ·ç«¯

```shell
$ redis-cli
```

***redis è¿œç¨‹è¿æ¥***

æ‰“å¼€é…ç½®æ–‡ä»¶

```shell
$ sudo vi /etc/redis/redis.conf
```

å°† bind 127.0.0.1 ::1 æ”¹ä¸º bind 0.0.0.0

ä¹‹åé‡æ–°å¯åŠ¨ redis

##### 4. Redis è®¾ç½®å¯†ç 

æ‰“å¼€ Redis çš„é…ç½®æ–‡ä»¶

```shell
$ sudo vi /etc/redis/redis.conf
```

æ‰¾åˆ°ä¸‹é¢è¿™ä¸€è¡Œ

```shell
# requirepass foobared 
```

å°†æ³¨é‡Šç¬¦å·å»æ‰ï¼Œå°†åé¢ä¿®æ”¹æˆè‡ªå·±çš„å¯†ç ï¼Œå¦‚:

```shell
requirepass 123456
```



### é˜²ç«å¢™

#### ubuntu

##### æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€

```shell
sudo ufw status
```

##### å…³é—­é˜²ç«å¢™

```shell
sudo ufw disablw
```

##### æ‰“å¼€é˜²ç«å¢™

```shell
sudo ufw enable
```

#### centos

æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€

```shell
firewall-cmd --state
```

åœæ­¢firewall

```shell
systemctl stop firewalld.service
```

ç¦æ­¢firewallå¼€æœºå¯åŠ¨

```shell
systemctl disable firewalld.service 
```





### FTP

#### ç¬¬ä¸€æ­¥ï¼šåœ¨ Ubuntu ä¸­å®‰è£… VSFTPD æœåŠ¡å™¨

1ã€é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°ç³»ç»Ÿå®‰è£…åŒ…åˆ—è¡¨ï¼Œç„¶ååƒä¸‹é¢è¿™æ ·å®‰è£… VSFTPD äºŒè¿›åˆ¶åŒ…ï¼š

```
$ sudo apt-get update
$ sudo apt-get install vsftpd
```

2ã€ä¸€æ—¦å®‰è£…å®Œæˆï¼Œåˆå§‹æƒ…å†µä¸‹æœåŠ¡è¢«ç¦ç”¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å¼€å¯æœåŠ¡ï¼ŒåŒæ—¶ï¼Œå¯åŠ¨å®ƒä½¿å¾—åœ¨ä¸‹æ¬¡å¼€æœºæ—¶èƒ½å¤Ÿè‡ªåŠ¨å¼€å¯æœåŠ¡ï¼š

```
------------- On SystemD -------------
# systemctl start vsftpd
# systemctl enable vsftpd
------------- On SysVInit -------------
# service vsftpd start
# chkconfig --level 35 vsftpd on
```

3ã€æ¥ä¸‹æ¥ï¼Œå¦‚æœä½ åœ¨æœåŠ¡å™¨ä¸Šå¯ç”¨äº† [UFW é˜²ç«å¢™](http://www.tecmint.com/how-to-install-and-configure-ufw-firewall/)ï¼ˆé»˜è®¤æƒ…å†µä¸‹ä¸å¯ç”¨ï¼‰ï¼Œé‚£ä¹ˆéœ€è¦æ‰“å¼€ç«¯å£ 20 å’Œ 21 â€”â€” FTP å®ˆæŠ¤è¿›ç¨‹æ­£åœ¨ç›‘å¬å®ƒä»¬â€”â€”ä»è€Œæ‰èƒ½å…è®¸ä»è¿œç¨‹æœºå™¨è®¿é—® FTP æœåŠ¡ï¼Œç„¶åï¼Œåƒä¸‹é¢è¿™æ ·æ·»åŠ æ–°çš„é˜²ç«å¢™è§„åˆ™ï¼š

```
$ sudo ufw allow 20/tcp
$ sudo ufw allow 21/tcp
$ sudo ufw status
```

#### ç¬¬äºŒæ­¥ï¼šåœ¨ Ubuntu ä¸­é…ç½®å¹¶ä¿æŠ¤ VSFTPD æœåŠ¡å™¨

4ã€è®©æˆ‘ä»¬è¿›è¡Œä¸€äº›é…ç½®æ¥è®¾ç½®å’Œä¿æŠ¤ FTP æœåŠ¡å™¨ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åƒä¸‹é¢è¿™æ ·åˆ›å»ºä¸€ä¸ªåŸå§‹é…ç½®æ–‡ä»¶ `/etc/vsftpd/vsftpd.conf` çš„å¤‡ä»½æ–‡ä»¶ï¼š

```
$ sudo cp /etc/vsftpd.conf /etc/vsftpd.conf.orig
```

æ¥ä¸‹æ¥ï¼Œæ‰“å¼€ vsftpd é…ç½®æ–‡ä»¶ã€‚

```
$ sudo vi /etc/vsftpd.conf
OR
$ sudo nano /etc/vsftpd.conf
```

æŠŠä¸‹é¢çš„è¿™äº›é€‰é¡¹æ·»åŠ /æ”¹æˆæ‰€å±•ç¤ºçš„å€¼ï¼š

```
anonymous_enable=NO             # å…³é—­åŒ¿åç™»å½•
local_enable=YES        # å…è®¸æœ¬åœ°ç”¨æˆ·ç™»å½•
write_enable=YES        # å¯ç”¨å¯ä»¥ä¿®æ”¹æ–‡ä»¶çš„ FTP å‘½ä»¤
local_umask=022                # æœ¬åœ°ç”¨æˆ·åˆ›å»ºæ–‡ä»¶çš„ umask å€¼
dirmessage_enable=YES            # å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è¿›å…¥æ–°ç›®å½•æ—¶æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
xferlog_enable=YES        # ä¸€ä¸ªå­˜æœ‰è¯¦ç»†çš„ä¸Šä¼ å’Œä¸‹è½½ä¿¡æ¯çš„æ—¥å¿—æ–‡ä»¶
connect_from_port_20=YES        # åœ¨æœåŠ¡å™¨ä¸Šé’ˆå¯¹ PORT ç±»å‹çš„è¿æ¥ä½¿ç”¨ç«¯å£ 20ï¼ˆFTP æ•°æ®ï¼‰
xferlog_std_format=YES          # ä¿æŒæ ‡å‡†æ—¥å¿—æ–‡ä»¶æ ¼å¼
listen=NO               # é˜»æ­¢ vsftpd åœ¨ç‹¬ç«‹æ¨¡å¼ä¸‹è¿è¡Œ
listen_ipv6=YES                # vsftpd å°†ç›‘å¬ ipv6 è€Œä¸æ˜¯ IPv4ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„ç½‘ç»œæƒ…å†µè®¾ç½®
pam_service_name=vsftpd         # vsftpd å°†ä½¿ç”¨çš„ PAM éªŒè¯è®¾å¤‡çš„åå­—
userlist_enable=YES              # å…è®¸ vsftpd åŠ è½½ç”¨æˆ·åå­—åˆ—è¡¨
tcp_wrappers=YES          # æ‰“å¼€ tcp åŒ…è£…å™¨
```

5ã€ç°åœ¨ï¼Œé…ç½® VSFTPD ï¼ŒåŸºäºç”¨æˆ·åˆ—è¡¨æ–‡ä»¶ `/etc/vsftpd.userlist` æ¥å…è®¸æˆ–æ‹’ç»ç”¨æˆ·è®¿é—® FTPã€‚

æ³¨æ„ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœé€šè¿‡ `userlist_enable=YES` å¯ç”¨äº†ç”¨æˆ·åˆ—è¡¨ï¼Œä¸”è®¾ç½® `userlist_deny=YES` æ—¶ï¼Œé‚£ä¹ˆï¼Œç”¨æˆ·åˆ—è¡¨æ–‡ä»¶ `/etc/vsftpd.userlist` ä¸­çš„ç”¨æˆ·æ˜¯ä¸èƒ½ç™»å½•è®¿é—®çš„ã€‚

ä½†æ˜¯ï¼Œé€‰é¡¹ `userlist_deny=NO` åˆ™åè½¬äº†é»˜è®¤è®¾ç½®ï¼Œè¿™ç§æƒ…å†µä¸‹åªæœ‰ç”¨æˆ·åè¢«æ˜ç¡®åˆ—å‡ºåœ¨ `/etc/vsftpd.userlist` ä¸­çš„ç”¨æˆ·æ‰å…è®¸ç™»å½•åˆ° FTP æœåŠ¡å™¨ã€‚

```
userlist_enable=YES                   # vsftpd å°†ä¼šä»æ‰€ç»™çš„ç”¨æˆ·åˆ—è¡¨æ–‡ä»¶ä¸­åŠ è½½ç”¨æˆ·åå­—åˆ—è¡¨
userlist_file=/etc/vsftpd.userlist    # å­˜å‚¨ç”¨æˆ·åå­—çš„åˆ—è¡¨
userlist_deny=NO
```

é‡è¦çš„æ˜¯ï¼Œå½“ç”¨æˆ·ç™»å½• FTP æœåŠ¡å™¨ä»¥åï¼Œä»–ä»¬å°†è¿›å…¥ chrooted ç¯å¢ƒï¼Œå³å½“åœ¨ FTP ä¼šè¯æ—¶ï¼Œå…¶ root ç›®å½•å°†æ˜¯å…¶ home ç›®å½•ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ä¸¤ç§å¯èƒ½çš„é€”å¾„æ¥è®¾ç½® chrootedï¼ˆæœ¬åœ° rootï¼‰ç›®å½•ï¼Œæ­£å¦‚ä¸‹é¢æ‰€å±•ç¤ºçš„ã€‚

6ã€è¿™æ—¶ï¼Œè®©æˆ‘ä»¬æ·»åŠ /ä¿®æ”¹/å–æ¶ˆè¿™ä¸¤ä¸ªé€‰é¡¹æ¥[å°† FTP ç”¨æˆ·é™åˆ¶åœ¨å…¶ home ç›®å½•](http://www.tecmint.com/restrict-sftp-user-home-directories-using-chroot/)

```
chroot_local_user=YES
allow_writeable_chroot=YES
```

é€‰é¡¹ `chroot_local_user=YES` æ„å‘³ç€æœ¬åœ°ç”¨æˆ·å°†è¿›å…¥ chroot ç¯å¢ƒï¼Œå½“ç™»å½•ä»¥åé»˜è®¤æƒ…å†µä¸‹æ˜¯å…¶ home ç›®å½•ã€‚

å¹¶ä¸”æˆ‘ä»¬è¦çŸ¥é“ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå‡ºäºå®‰å…¨åŸå› ï¼ŒVSFTPD ä¸å…è®¸ chroot ç›®å½•å…·æœ‰å¯å†™æƒé™ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€‰é¡¹ `allow_writeable_chroot=YES` æ¥æ”¹å˜è¿™ä¸ªè®¾ç½®

ä¿å­˜æ–‡ä»¶ç„¶åå…³é—­ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦é‡å¯ VSFTPD æœåŠ¡ä»è€Œä½¿ä¸Šé¢çš„è¿™äº›æ›´æ”¹ç”Ÿæ•ˆï¼š

```
------------- On SystemD -------------
# systemctl restart vsftpd
------------- On SysVInit -------------
# service vsftpd restart
```

#### ç¬¬ä¸‰æ­¥ï¼šåœ¨ Ubuntu ä¸Šæµ‹è¯• VsFTP æœåŠ¡å™¨

7ã€ç°åœ¨ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨ä¸‹é¢å±•ç¤ºçš„ [useradd å‘½ä»¤](http://www.tecmint.com/add-users-in-linux/)åˆ›å»ºä¸€ä¸ª FTP ç”¨æˆ·æ¥æµ‹è¯• FTP æœåŠ¡å™¨ï¼š

```
$ sudo useradd -m -c "Aaron Kili, Contributor" -s /bin/bash aaronkilik
$ sudo passwd aaronkilik
```

ç„¶åï¼Œæˆ‘ä»¬éœ€è¦åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ [echo å‘½ä»¤](http://www.tecmint.com/echo-command-in-linux/)å’Œ tee å‘½ä»¤æ¥æ˜ç¡®åœ°åˆ—å‡ºæ–‡ä»¶ `/etc/vsftpd.userlist` ä¸­çš„ç”¨æˆ· aaronkilikï¼š

```
$ echo "aaronkilik" | sudo tee -a /etc/vsftpd.userlist
$ cat /etc/vsftpd.userlist
```

8ã€ç°åœ¨ï¼Œæ˜¯æ—¶å€™æ¥æµ‹è¯•ä¸Šé¢çš„é…ç½®æ˜¯å¦å…·æœ‰æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½äº†ã€‚æˆ‘ä»¬é¦–å…ˆæµ‹è¯•åŒ¿åç™»å½•ï¼›æˆ‘ä»¬å¯ä»¥ä»ä¸‹é¢çš„è¾“å‡ºä¸­å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ª FTP æœåŠ¡å™¨ä¸­æ˜¯ä¸å…è®¸åŒ¿åç™»å½•çš„ï¼š

```
# ftp 192.168.56.102
Connected to 192.168.56.102  (192.168.56.102).
220 Welcome to TecMint.com FTP service.
Name (192.168.56.102:aaronkilik) : anonymous
530 Permission denied.
Login failed.
ftp> bye
221 Goodbye.
```

9ã€æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æµ‹è¯•ï¼Œå¦‚æœç”¨æˆ·çš„åå­—æ²¡æœ‰åœ¨æ–‡ä»¶ `/etc/vsftpd.userlist` ä¸­ï¼Œæ˜¯å¦èƒ½å¤Ÿç™»å½•ã€‚ä»ä¸‹é¢çš„è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™æ˜¯ä¸å¯ä»¥çš„ï¼š

```
# ftp 192.168.56.102
Connected to 192.168.56.102  (192.168.56.102).
220 Welcome to TecMint.com FTP service.
Name (192.168.56.10:root) : user1
530 Permission denied.
Login failed.
ftp> bye
221 Goodbye.
```

10ã€ç°åœ¨ï¼Œæˆ‘ä»¬å°†è¿›è¡Œæœ€åä¸€é¡¹æµ‹è¯•ï¼Œæ¥ç¡®å®šåˆ—åœ¨æ–‡ä»¶ `/etc/vsftpd.userlist` æ–‡ä»¶ä¸­çš„ç”¨æˆ·ç™»å½•ä»¥åï¼Œæ˜¯å¦å®é™…å¤„äº home ç›®å½•ã€‚ä»ä¸‹é¢çš„è¾“å‡ºä¸­å¯çŸ¥ï¼Œæ˜¯è¿™æ ·çš„ï¼š

```
# ftp 192.168.56.102
Connected to 192.168.56.102  (192.168.56.102).
220 Welcome to TecMint.com FTP service.
Name (192.168.56.102:aaronkilik) : aaronkilik
331 Please specify the password.
Password:
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> ls
```

[![Verify FTP Login in Ubuntu](image/t0109d37ea0b10a60e2.png)](http://www.tecmint.com/wp-content/uploads/2017/02/Verify-FTP-Login-in-Ubuntu.png)

*åœ¨ Ubuntu ä¸­ç¡®è®¤ FTP ç™»å½•*

è­¦å‘Šï¼šè®¾ç½®é€‰é¡¹ `allow_writeable_chroot=YES` æ˜¯å¾ˆå±é™©çš„ï¼Œç‰¹åˆ«æ˜¯å¦‚æœç”¨æˆ·å…·æœ‰ä¸Šä¼ æƒé™ï¼Œæˆ–è€…å¯ä»¥ shell è®¿é—®çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°å®‰å…¨é—®é¢˜ã€‚åªæœ‰å½“ä½ ç¡®åˆ‡çš„çŸ¥é“ä½ åœ¨åšä»€ä¹ˆçš„æ—¶å€™ï¼Œæ‰å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ã€‚

æˆ‘ä»¬éœ€è¦æ³¨æ„ï¼Œè¿™äº›å®‰å…¨é—®é¢˜ä¸ä»…ä¼šå½±å“åˆ° VSFTPDï¼Œä¹Ÿä¼šå½±å“è®©æœ¬åœ°ç”¨æˆ·è¿›å…¥ chroot ç¯å¢ƒçš„ FTP daemonã€‚

å› ä¸ºè¿™äº›åŸå› ï¼Œåœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘å°†é˜è¿°ä¸€ä¸ªæ›´å®‰å…¨çš„æ–¹æ³•ï¼Œæ¥å¸®åŠ©ç”¨æˆ·è®¾ç½®ä¸€ä¸ªéå¯å†™æœ¬åœ° root ç›®å½•ã€‚

#### ç¬¬å››æ­¥ï¼šåœ¨ Ubuntu ä¸­é…ç½® FTP ç”¨æˆ·çš„ Home ç›®å½•

11ã€ç°åœ¨ï¼Œå†æ¬¡æ‰“å¼€ VSFTPD é…ç½®æ–‡ä»¶ã€‚

```
$ sudo vi /etc/vsftpd.conf
OR
$ sudo nano /etc/vsftpd.conf
```

ç„¶ååƒä¸‹é¢è¿™æ ·ç”¨ `#` æŠŠä¸å®‰å…¨é€‰é¡¹æ³¨é‡Šäº†ï¼š

```
#allow_writeable_chroot=YES
```

æ¥ä¸‹æ¥ï¼Œä¸ºç”¨æˆ·åˆ›å»ºä¸€ä¸ªæ›¿ä»£çš„æœ¬åœ° root ç›®å½•ï¼ˆaaronkilikï¼Œä½ çš„å¯èƒ½å’Œè¿™ä¸ä¸€æ ·ï¼‰ï¼Œç„¶åè®¾ç½®ç›®å½•æƒé™ï¼Œå–æ¶ˆå…¶ä»–æ‰€æœ‰ç”¨æˆ·å¯¹æ­¤ç›®å½•çš„å†™å…¥æƒé™ï¼š

```
$ sudo mkdir /home/aaronkilik/ftp
$ sudo chown nobody:nogroup /home/aaronkilik/ftp
$ sudo chmod a-w /home/aaronkilik/ftp
```

12ã€ç„¶åï¼Œåœ¨æœ¬åœ° root ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå…·æœ‰åˆé€‚æƒé™çš„ç›®å½•ï¼Œç”¨æˆ·å°†åœ¨è¿™å„¿å­˜å‚¨æ–‡ä»¶ï¼š

```
$ sudo mkdir /home/aaronkilik/ftp/files
$ sudo chown -R aaronkilk:aaronkilik /home/aaronkilik/ftp/files
$ sudo chmod -R 0770 /home/aaronkilik/ftp/files/
```

ä¹‹åï¼Œå°† VSFTPD é…ç½®æ–‡ä»¶ä¸­çš„ä¸‹é¢è¿™äº›é€‰é¡¹æ·»åŠ /ä¿®æ”¹ä¸ºç›¸åº”çš„å€¼ï¼š

```
user_sub_token=$USER          # åœ¨æœ¬åœ° root ç›®å½•ä¸­æ’å…¥ç”¨æˆ·å
local_root=/home/$USER/ftp    # å®šä¹‰å„ä¸ªç”¨æˆ·çš„æœ¬åœ° root ç›®å½•
```

ä¿å­˜æ–‡ä»¶å¹¶å…³é—­ã€‚ç„¶åé‡å¯ VSFTPD æœåŠ¡æ¥ä½¿ä¸Šé¢çš„è®¾ç½®ç”Ÿæ•ˆï¼š

```
------------- On SystemD -------------
# systemctl restart vsftpd
------------- On SysVInit -------------
# service vsftpd restart
```

#### çŠ¶æ€/å¯åŠ¨

```shell
# æŸ¥çœ‹ftp æœåŠ¡å™¨çŠ¶æ€     
service vsftpd status

# å¯åŠ¨ftpæœåŠ¡å™¨     
service vsftpd start

# é‡å¯ftpæœåŠ¡å™¨ 
service vsftpd restart

```

#### è‡ªå¯åŠ¨

å‚è€ƒï¼š https://www.jianshu.com/p/79d24b4af4e5



### centosé™æ€ipè®¾ç½®

```shell
cd /etc/sysconfig/network-scripts/
ls
# é€‰æ‹©ç¬¬ä¸€ä¸ª ifcfg-xxxx æ–‡ä»¶ï¼Œæ‰“å¼€
vim ifcfg-xxxx
# é…ç½®å¦‚ä¸‹
BOOTPROTO="static" #dhcpæ”¹ä¸ºstatic 
ONBOOT="yes" #å¼€æœºå¯ç”¨æœ¬é…ç½®
IPADDR=192.168.0.240 #é™æ€IP
GATEWAY=192.168.0.1 #é»˜è®¤ç½‘å…³
NETMASK=255.255.255.0 #å­ç½‘æ©ç 
DNS1=192.168.7.1 #DNS é…ç½® 	å¯ä»¥ä¸é…

```

é‡å¯ç½‘ç»œæœåŠ¡ï¼š`service network restart`







## centos

### é˜²ç«å¢™

æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€

```shell
firewall-cmd --state
```

åœæ­¢firewall

```shell
systemctl stop firewalld.service
```

ç¦æ­¢firewallå¼€æœºå¯åŠ¨

```shell
systemctl disable firewalld.service 
```

å¼€å¯é˜²ç«å¢™ï¼š`systemctl start firewalld `

å…³é—­é˜²ç«å¢™ï¼š`systemctl stop firewalld`

å¼€æ°¸ä¹…ç«¯å£å·ï¼š `firewall-cmd --add-port=666/tcp --permanent `    --permanent è¡¨ç¤ºæ°¸ä¹…ç”Ÿæ•ˆ

é‡æ–°è½½å…¥é…ç½®ï¼š  `firewall-cmd --reload` 	é‡æ–°è½½å…¥é…ç½®åæ‰èƒ½ç”Ÿæ•ˆ

æŸ¥çœ‹æƒ³å¼€çš„ç«¯å£æ˜¯å¦å·²å¼€ï¼š `firewall-cmd --query-port=666/tcp`

æŸ¥çœ‹å·²å¼€æ”¾çš„ç«¯å£ï¼š `firewall-cmd --zone=public --list-ports`

##### ç®¡ç†firewalld

```shell
# è®¾ç½®å¼€æœºå¯åŠ¨æœåŠ¡
systemctl enable firewalld.service
# è®¾ç½®å¼€æœºç¦ç”¨æœåŠ¡
systemctl disable firewalld.service
# å¼€å¯æœåŠ¡
systemctl start firewalld.service 
# åœæ­¢æœåŠ¡	
systemctl stop firewalld.service
# æŸ¥çœ‹firewalldçŠ¶æ€
systemctl status firewalld
# æŸ¥çœ‹ç‰ˆæœ¬
firewall-cmd --version
# æŸ¥çœ‹å¸®åŠ©
firewall-cmd --help
# æ˜¾ç¤ºçŠ¶æ€
firewall-cmd --state
```

##### zoneç®¡ç†

```shell
# åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„zone
firewall-cmd --get-zones
# æŸ¥çœ‹å½“å‰çš„é»˜è®¤zone
firewall-cmd --get-default-zone
```

##### serviceç®¡ç†

```shell
# åˆ†åˆ«åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„service
firewall-cmd --get-services
# æŸ¥çœ‹å½“å‰zoneä¸­åŠ è½½çš„service
firewall-cmd --list-services
```

##### åŸºæœ¬æ“ä½œ

```shell
# æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£
firewall-cmd --zone=public --list-ports
# æ›´æ–°é˜²ç«å¢™è§„åˆ™
firewall-cmd --reload
# æŸ¥çœ‹åŒºåŸŸä¿¡æ¯
firewall-cmd --get-active-zones
# æŸ¥çœ‹æŒ‡å®šæ¥å£æ‰€å±åŒºåŸŸ
firewall-cmd --get-zone-of-interface=eth0
# æ‹’ç»æ‰€æœ‰åŒ…
firewall-cmd --panic-on
# å–æ¶ˆæ‹’ç»çŠ¶æ€
firewall-cmd --panic-off
# æŸ¥çœ‹æ˜¯å¦æ‹’ç»
firewall-cmd --query-panic
```

##### æ·»åŠ ç«¯å£

```shell
# æ·»åŠ 80ç«¯å£
firewall-cmd --zone=public --add-port=80/tcp --permanent  # --permanentæ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°ï¼Œé‡å¯åå¤±æ•ˆ
# é‡æ–°è½½å…¥	
firewall-cmd--reload
# æŸ¥çœ‹80ç«¯å£
firewall-cmd --zone=public --query-port=80/tcp
# åˆ é™¤80ç«¯å£
firewall-cmd --zone=public --remove-port=80/tcp --permanent
# ä¸ºpublicåŒºæ·»åŠ æŒä¹…æ€§çš„HTTPå’ŒHTTPSè§„åˆ™
firewall-cmd --zone=public --add-service=http --permanent
firewall0cmd --zone=public --add-service=https --permanent
# åˆ—å‡ºæ‰€æœ‰è§„åˆ™
firewall-cmd -list-all
```



### å®‰è£…python

#### å®‰è£…ä¾èµ–åŒ…

```shell
sudo yum groupinstall "Development tools"
yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make

-------------------------------------------------------------------
#è¿è¡Œè¿™ä¸ªå‘½ä»¤æ·»åŠ epelæ‰©å±•æº
yum -y install epel-release

#å®‰è£…pip
yum install python-pip
```

#### ä¸‹è½½.tgzå‹ç¼©åŒ…

- pythonåŒ…æ‰€åœ¨çš„ä½ç½®ï¼š`https://www.python.org/ftp/python/`

#### ç¼–è¯‘python3æºç åŒ…

```shell
tar xf Python-3.7.3.tgz
cd Python-3.7.3

#è¿›å…¥è§£å‹åçš„ç›®å½•ï¼Œä¾æ¬¡æ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œæ‰‹åŠ¨ç¼–è¯‘
./configure prefix=/usr/local/python3
make && make install
```

#### æ·»åŠ è½¯é“¾æ¥

```shell
#å°†åŸæ¥çš„é“¾æ¥å¤‡ä»½
mv /usr/bin/python /usr/bin/python.bak

#æ·»åŠ python3çš„è½¯é“¾æ¥
ln -s /usr/local/python3/bin/python3.7 /usr/bin/python

# æ·»åŠ pipè½¯è¿æ¥
ln -s /usr/local/python3/bin/pip3 /usr/bin/pip

#æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸäº†
python -V

```

#### æ›´æ”¹yumé…ç½®ï¼Œå› ä¸ºå…¶è¦ç”¨åˆ°python2æ‰èƒ½æ‰§è¡Œï¼Œå¦åˆ™ä¼šå¯¼è‡´yumä¸èƒ½æ­£å¸¸ä½¿ç”¨

```shell
vi /usr/bin/yum
æŠŠ#! /usr/bin/pythonä¿®æ”¹ä¸º#! /usr/bin/python2

vi /usr/libexec/urlgrabber-ext-down
æŠŠ#! /usr/bin/python ä¿®æ”¹ä¸º#! /usr/bin/python2
```



### è™šæ‹Ÿç¯å¢ƒ

#### å®‰è£…è™šæ‹Ÿç¯å¢ƒåŒ…

```shell
pip install virtulenv
pip install --upgrade virtualenv	# ä¸Šä¸€æ­¥å¤±è´¥å¯ä»¥ç”¨è¿™ä¸ª

# virtualenvwrapperè¿™ä¸ªè½¯ä»¶åŒ…å¯ä»¥è®©æˆ‘ä»¬ç®¡ç†è™šæ‹Ÿç¯å¢ƒå˜å¾—æ›´åŠ ç®€å•ã€‚ä¸ç”¨å†è·‘åˆ°æŸä¸ªç›®å½•ä¸‹é€šè¿‡virtualenvæ¥åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶ä¸”æ¿€æ´»çš„æ—¶å€™ä¹Ÿè¦è·‘åˆ°å…·ä½“çš„ç›®å½•ä¸‹å»æ¿€æ´»ã€‚
pip3 install virtualenvwrapper
```

#### è®¾ç½®ç¯å¢ƒå˜é‡

##### å­˜æ”¾è™šæ‹Ÿç¯å¢ƒçš„æ–‡ä»¶å¤¹

åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾æ‰€æœ‰çš„è™šæ‹Ÿç¯å¢ƒï¼š`mkdir -p /home/python/virtualenvs` (ç›®å½•è‡ªå®šä¹‰)

##### ç¼–è¾‘.bashrcæ–‡ä»¶

```shell

VIRTUALENVWRAPPER_PYTHON=/usr/local/python3/bin/python3	# æŒ‡å®švirtualenvwrapperæ‰§è¡Œçš„pythonç‰ˆæœ¬
export WORKON_HOME=/home/python/virtualenvs	# æŒ‡å®šè™šæ‹Ÿç¯å¢ƒå­˜æ”¾ç›®å½•
source /usr/local/python3/bin/virtualenvwrapper.sh	# virtualenvwrapper.shæ‰€åœ¨ç›®å½•
```

#####  è¿è¡Œ.bashrcæ–‡ä»¶

```shell
source ~/.bashrc
```

##### æ“ä½œ

```shell
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
mkvirtualenv spider
# åˆ‡æ¢åˆ°æŸä¸ªè™šæ‹Ÿç¯å¢ƒ
workon spider
# é€€å‡ºå½“å‰è™šæ‹Ÿç¯å¢ƒ
deactivate
# åˆ é™¤æŸä¸ªè™šæ‹Ÿç¯å¢ƒ
rm virtualenv spider
# åˆ—å‡ºæ‰€æœ‰è™šæ‹Ÿç¯å¢ƒ
ls virtualenv
# è¿›å…¥åˆ°è™šæ‹Ÿç¯å¢ƒæ‰€åœ¨çš„ç›®å½•
cd virtualenv

```

### chrome+chromedriver

#### ä¸‹è½½chrome

```shell
wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm
```

#### å®‰è£…Chrome

```html
yum install ./google-chrome-stable_current_x86_64.rpm
```

#### é…ç½®chromedriver

æ³¨æ„chromedriverçš„ç‰ˆæœ¬ï¼Œè¦ä¸ä½ å®‰è£…çš„chromeç‰ˆæœ¬å¯¹åº”ä¸Šï¼Œè¿™é‡Œçš„ç‰ˆæœ¬å·²ç»ä¸æ˜¯æœ€æ–°çš„ã€‚ç‰ˆæœ¬åˆ—è¡¨ï¼šhttp://chromedriver.chromium.org/downloads

è§£å‹chromedriver_linux64.zip

```html
unzip chromedriver_linux64.zip
```

æŠŠchromedriverç§»åŠ¨åˆ°ç³»ç»Ÿç›®å½•

```text
mv chromedriver /usr/bin
```

ä¸ºchromedriveræˆæƒ

```html
chmod 755 chromedriver
```

è®¾ç½®æ— å¤´

```python 
from selenium import webdriver   
from selenium.webdriver.chrome.options import Options  # å¯¼å…¥æµè§ˆå™¨å†…æ ¸è®¾ç½®ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®¾ç½®æ— å¤´ï¼ˆheadlessï¼‰æ¨¡å¼
url = 'https://www.baidu.com' 
chrome_options = Options()    
chrome_options.add_argument('--headless')  # è®¾ç½®Chromeä¸ºæ— å¤´æ¨¡å¼   
chrome_options.add_argument('--no-sandbox')   #è¿™ä¸ªå‘½ä»¤ç¦æ­¢æ²™ç®±æ¨¡å¼ï¼Œå¦åˆ™è‚¯èƒ½ä¼šæŠ¥é”™é‡åˆ°chromeå¼‚å¸¸
chrome_options.add_argument('disable-dev-shm-usage')
driver = webdriver.Chrome(options=chrome_options)    
driver.get(url)    
driver.close()
```

















